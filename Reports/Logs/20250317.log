2025-03-17 14:07:44 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 14:07:44 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 14:07:44 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 14:07:44 | INFO     | conftest             | Loading test parameters from package.json for test_flight_booking
2025-03-17 14:07:44 | INFO     | conftest             | Loaded 2 parameter sets from package.json
2025-03-17 14:07:44 | INFO     | conftest             | Parametrized test_flight_booking with 2 parameter sets
2025-03-17 14:07:44 | INFO     | conftest             | Creating screenshot directory: /Users/zaki.sabir/Downloads/agoda/Reports/Images/
2025-03-17 14:07:44 | INFO     | conftest             | Cleared 1 existing screenshots from directory
2025-03-17 14:07:44 | INFO     | conftest             | Creating search_url fixture
2025-03-17 14:07:44 | INFO     | conftest             | Launching browser
2025-03-17 14:07:46 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:07:46 | INFO     | conftest             | Creating new page for test: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 14:07:47 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:07:47 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 14:07:56 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 14:07:56 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 14:07:56 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 14:07:56 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 14:07:56 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 14:07:56 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 14:07:56 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 14:07:56 | INFO     | RoundTrip            | Selecting departure airport: LHE
2025-03-17 14:07:56 | INFO     | RoundTrip            | Setting and verifying Departure airport: LHE
2025-03-17 14:07:57 | INFO     | RoundTrip            | Departure airport set to: LHE
2025-03-17 14:07:58 | INFO     | RoundTrip            | Selecting airport from options: LHE
2025-03-17 14:07:59 | INFO     | RoundTrip            | Found 13 airport options
2025-03-17 14:07:59 | INFO     | RoundTrip            | Found matching airport: AirportAllama Iqbal International AirportLHE
2025-03-17 14:07:59 | INFO     | RoundTrip            | Selected Departure airport: AirportAllama Iqbal International AirportLHE (Code: LHE)
2025-03-17 14:07:59 | INFO     | RoundTrip            | Actual Departure airport: Lahore (LHE) (Code: LHE)
2025-03-17 14:07:59 | INFO     | RoundTrip            | Departure airport selected: LHE
2025-03-17 14:07:59 | INFO     | RoundTrip            | Selecting arrival airport: JFK
2025-03-17 14:07:59 | INFO     | RoundTrip            | Setting and verifying Arrival airport: JFK
2025-03-17 14:07:59 | INFO     | RoundTrip            | Setting arrival airport to: JFK
2025-03-17 14:07:59 | INFO     | RoundTrip            | Arrival airport set to: JFK
2025-03-17 14:08:00 | INFO     | RoundTrip            | Selecting airport from options: JFK
2025-03-17 14:08:00 | INFO     | RoundTrip            | Found 5 airport options
2025-03-17 14:08:00 | INFO     | RoundTrip            | Found matching airport: AirportJohn F. Kennedy International AirportJFK
2025-03-17 14:08:01 | INFO     | RoundTrip            | Selected Arrival airport: AirportJohn F. Kennedy International AirportJFK (Code: JFK)
2025-03-17 14:08:01 | INFO     | RoundTrip            | Actual Arrival airport: New York (NY) (JFK) (Code: JFK)
2025-03-17 14:08:01 | INFO     | RoundTrip            | Arrival airport selected: JFK
2025-03-17 14:08:01 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 14:08:01 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 14:08:01 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 14:08:11 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 14:08:12 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 14:08:12 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 14:08:12 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 14:08:12 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 14:08:12 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 14:08:12 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 14:08:12 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 14:08:12 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 14:08:12 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 14:08:12 | INFO     | RoundTrip            | Selecting passengers: Adults=2, Children=1, Infants=0, Cabin=Business
2025-03-17 14:08:12 | INFO     | RoundTrip            | Adjusting adult count to 2
2025-03-17 14:08:12 | INFO     | RoundTrip            | Current adults: 1, Target: 2
2025-03-17 14:08:12 | INFO     | RoundTrip            | Adjusting children count to 1
2025-03-17 14:08:12 | INFO     | RoundTrip            | Current childrens: 0, Target: 1
2025-03-17 14:08:12 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 14:08:12 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 14:08:12 | INFO     | RoundTrip            | Selecting cabin class: Business
2025-03-17 14:08:12 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 14:08:12 | INFO     | RoundTrip            | Clicking search button
2025-03-17 14:08:13 | INFO     | RoundTrip            | Search button clicked
2025-03-17 14:08:13 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 14:08:14 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 14:08:14 | INFO     | conftest             | Test PASSED: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 14:08:14 | INFO     | conftest             | Test completed: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 14:08:14 | INFO     | conftest             | Closing page
2025-03-17 14:08:15 | INFO     | conftest             | Closing browser
2025-03-17 14:08:15 | INFO     | conftest             | Launching browser
2025-03-17 14:08:16 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:08:16 | INFO     | conftest             | Creating new page for test: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 14:08:17 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:08:17 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 14:08:32 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 14:08:32 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 14:08:32 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 14:08:33 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 14:08:33 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 14:08:33 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 14:08:34 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 14:08:34 | INFO     | RoundTrip            | Selecting departure airport: KHI
2025-03-17 14:08:34 | INFO     | RoundTrip            | Setting and verifying Departure airport: KHI
2025-03-17 14:08:35 | INFO     | RoundTrip            | Departure airport set to: KHI
2025-03-17 14:08:36 | INFO     | RoundTrip            | Selecting airport from options: KHI
2025-03-17 14:08:36 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 14:08:36 | INFO     | RoundTrip            | Found matching airport: AirportJinnah International AirportKHI
2025-03-17 14:08:36 | INFO     | RoundTrip            | Selected Departure airport: AirportJinnah International AirportKHI (Code: KHI)
2025-03-17 14:08:36 | INFO     | RoundTrip            | Actual Departure airport: Karachi (KHI) (Code: KHI)
2025-03-17 14:08:36 | INFO     | RoundTrip            | Departure airport selected: KHI
2025-03-17 14:08:36 | INFO     | RoundTrip            | Selecting arrival airport: IST
2025-03-17 14:08:36 | INFO     | RoundTrip            | Setting and verifying Arrival airport: IST
2025-03-17 14:08:36 | INFO     | RoundTrip            | Setting arrival airport to: IST
2025-03-17 14:08:36 | INFO     | RoundTrip            | Arrival airport set to: IST
2025-03-17 14:08:37 | INFO     | RoundTrip            | Selecting airport from options: IST
2025-03-17 14:08:38 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 14:08:38 | INFO     | RoundTrip            | Found matching airport: AirportIstanbul AirportIST
2025-03-17 14:08:38 | INFO     | RoundTrip            | Selected Arrival airport: AirportIstanbul AirportIST (Code: IST)
2025-03-17 14:08:38 | INFO     | RoundTrip            | Actual Arrival airport: İstanbul (IST) (Code: IST)
2025-03-17 14:08:38 | INFO     | RoundTrip            | Arrival airport selected: IST
2025-03-17 14:08:38 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 14:08:38 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 14:08:38 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 14:08:48 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 14:08:49 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 14:08:49 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 14:08:49 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 14:08:49 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 14:08:49 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 14:08:49 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 14:08:49 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 14:08:49 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 14:08:49 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 14:08:49 | INFO     | RoundTrip            | Selecting passengers: Adults=1, Children=0, Infants=0, Cabin=Economy
2025-03-17 14:08:49 | INFO     | RoundTrip            | Adjusting adult count to 1
2025-03-17 14:08:49 | INFO     | RoundTrip            | Current adults: 1, Target: 1
2025-03-17 14:08:49 | INFO     | RoundTrip            | Adjusting children count to 0
2025-03-17 14:08:49 | INFO     | RoundTrip            | Current childrens: 0, Target: 0
2025-03-17 14:08:49 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 14:08:50 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 14:08:50 | INFO     | RoundTrip            | Selecting cabin class: Economy
2025-03-17 14:08:50 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 14:08:50 | INFO     | RoundTrip            | Clicking search button
2025-03-17 14:08:50 | INFO     | RoundTrip            | Search button clicked
2025-03-17 14:08:50 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 14:08:53 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 14:08:53 | INFO     | conftest             | Test PASSED: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 14:08:53 | INFO     | conftest             | Test completed: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 14:08:53 | INFO     | conftest             | Closing page
2025-03-17 14:08:53 | INFO     | conftest             | Closing browser
2025-03-17 14:08:54 | INFO     | conftest             | Launching browser
2025-03-17 14:08:55 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:08:55 | INFO     | conftest             | Creating new page for test: test_verify_search_results
2025-03-17 14:08:56 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:08:56 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 14:09:01 | INFO     | FlightOptions        | Validating search parameters
2025-03-17 14:09:01 | INFO     | FlightOptions        | Validating URL: https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8
2025-03-17 14:09:01 | INFO     | FlightOptions        | Extracted from URL:
2025-03-17 14:09:01 | INFO     | FlightOptions        | departureFrom: KHI
2025-03-17 14:09:01 | INFO     | FlightOptions        | arrivalTo: IST
2025-03-17 14:09:01 | INFO     | FlightOptions        | departDate: 2025-04-26
2025-03-17 14:09:01 | INFO     | FlightOptions        | returnDate: 2025-05-16
2025-03-17 14:09:01 | INFO     | FlightOptions        | adults: 1
2025-03-17 14:09:01 | INFO     | FlightOptions        | children: 0
2025-03-17 14:09:01 | INFO     | FlightOptions        | infants: 0
2025-03-17 14:09:01 | INFO     | FlightOptions        | cabinType: Economy
2025-03-17 14:09:01 | INFO     | FlightOptions        | Validating from header
2025-03-17 14:09:02 | INFO     | FlightOptions        | Departure value: Karachi (KHI)
2025-03-17 14:09:03 | INFO     | FlightOptions        | Arrival value: İstanbul (IST)
2025-03-17 14:09:04 | INFO     | FlightOptions        | Clicked departure calendar button
2025-03-17 14:09:04 | INFO     | FlightOptions        | Departure date: 2025-04-26
2025-03-17 14:09:04 | INFO     | FlightOptions        | Clicked return calendar button
2025-03-17 14:09:05 | INFO     | FlightOptions        | Return date: 2025-05-16
2025-03-17 14:09:05 | INFO     | FlightOptions        | Clicked passenger dropdown
2025-03-17 14:09:05 | INFO     | FlightOptions        | Adults count: 1
2025-03-17 14:09:05 | INFO     | FlightOptions        | Children count: 0
2025-03-17 14:09:05 | INFO     | FlightOptions        | Infants count: 0
2025-03-17 14:09:05 | INFO     | FlightOptions        | Cabin type: Economy
2025-03-17 14:09:05 | INFO     | FlightOptions        | Extracted from Header: ['Karachi (KHI)', 'İstanbul (IST)', '2025-04-26', '2025-05-16', '1', '0', '0', 'Economy']
2025-03-17 14:09:05 | INFO     | FlightOptions        | Search parameters validated successfully
2025-03-17 14:09:05 | INFO     | test_flight_options  | search validated
2025-03-17 14:09:05 | INFO     | conftest             | Test PASSED: test_verify_search_results
2025-03-17 14:09:05 | INFO     | conftest             | Test completed: test_verify_search_results
2025-03-17 14:09:05 | INFO     | conftest             | Closing page
2025-03-17 14:09:06 | INFO     | conftest             | Closing browser
2025-03-17 14:09:06 | INFO     | conftest             | Launching browser
2025-03-17 14:09:07 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:09:07 | INFO     | conftest             | Creating new page for test: test_flight_data
2025-03-17 14:09:08 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:09:08 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 14:09:16 | INFO     | FlightOptions        | Collecting flight data
2025-03-17 14:09:16 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 14:09:26 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 14:09:26 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 14:09:28 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:09:30 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:09:32 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:09:34 | INFO     | test_flight_options  | 
Flight Data (Array):
2025-03-17 14:09:34 | INFO     | test_flight_options  | +---------------------------------+------------+-------------+------------+
| Carrier                         | Duration   | Price       |   Layovers |
+=================================+============+=============+============+
| Pegasus Airlines                | 5h 50m     | 121,949 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Turkish Airlines                | 6h 0m      | 206,233 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Pakistan International Airlines | 6h 0m      | 234,961 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Etihad Airways                  | 9h 55m     | 119,224 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Jazeera Airways                 | 11h 55m    | 128,927 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 25h 50m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 12h 20m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 9h 0m      | 131,051 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 15h 45m    | 131,091 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 23h 20m    | 131,091 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 30m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 55m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 5m     | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 45m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 10h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 14h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 15h 40m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 22h 5m     | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
2025-03-17 14:09:34 | INFO     | conftest             | Test PASSED: test_flight_data
2025-03-17 14:09:34 | INFO     | conftest             | Test completed: test_flight_data
2025-03-17 14:09:34 | INFO     | conftest             | Closing page
2025-03-17 14:09:34 | INFO     | conftest             | Closing browser
2025-03-17 14:09:34 | INFO     | conftest             | Launching browser
2025-03-17 14:09:35 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:09:35 | INFO     | conftest             | Creating new page for test: test_flight_stops
2025-03-17 14:09:36 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:09:36 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 14:09:45 | INFO     | FlightOptions        | Checking direct flights
2025-03-17 14:09:45 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 14:09:55 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 14:09:55 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 14:09:55 | INFO     | FlightOptions        | Clicking checkbox: get_direct_stop_checkbox
2025-03-17 14:09:56 | INFO     | FlightOptions        | Clicked checkbox: get_direct_stop_checkbox
2025-03-17 14:09:56 | INFO     | FlightOptions        | Processing flight option: direct
2025-03-17 14:09:56 | INFO     | FlightOptions        | Number of stops for direct are: 
2025-03-17 14:09:58 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:09:58 | INFO     | FlightOptions        | 0

2025-03-17 14:10:00 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:00 | INFO     | FlightOptions        | 0

2025-03-17 14:10:02 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:02 | INFO     | FlightOptions        | 0

2025-03-17 14:10:07 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=3">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3) to be visible

2025-03-17 14:10:09 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:09 | INFO     | FlightOptions        | 0

2025-03-17 14:10:14 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=4">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4) to be visible

2025-03-17 14:10:16 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:16 | INFO     | FlightOptions        | 0

2025-03-17 14:10:21 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=5">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5) to be visible

2025-03-17 14:10:23 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:23 | INFO     | FlightOptions        | 0

2025-03-17 14:10:28 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=6">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6) to be visible

2025-03-17 14:10:30 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:30 | INFO     | FlightOptions        | 0

2025-03-17 14:10:35 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=7">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7) to be visible

2025-03-17 14:10:37 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:37 | INFO     | FlightOptions        | 0

2025-03-17 14:10:42 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=8">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8) to be visible

2025-03-17 14:10:44 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:44 | INFO     | FlightOptions        | 0

2025-03-17 14:10:49 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=9">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9) to be visible

2025-03-17 14:10:51 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:51 | INFO     | FlightOptions        | 0

2025-03-17 14:10:56 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=10">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10) to be visible

2025-03-17 14:10:58 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:10:58 | INFO     | FlightOptions        | 0

2025-03-17 14:11:03 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=11">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11) to be visible

2025-03-17 14:11:05 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:11:06 | INFO     | FlightOptions        | 0

2025-03-17 14:11:11 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=12">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12) to be visible

2025-03-17 14:11:13 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:11:13 | INFO     | FlightOptions        | 0

2025-03-17 14:11:18 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=13">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13) to be visible

2025-03-17 14:11:20 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:11:20 | INFO     | FlightOptions        | 0

2025-03-17 14:11:25 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=14">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14) to be visible

2025-03-17 14:11:27 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:11:27 | INFO     | FlightOptions        | 0

2025-03-17 14:11:32 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=15">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15) to be visible

2025-03-17 14:11:34 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:11:34 | INFO     | FlightOptions        | 0

2025-03-17 14:11:39 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=16">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16) to be visible

2025-03-17 14:11:41 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:11:41 | INFO     | FlightOptions        | 0

2025-03-17 14:11:46 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=17">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17) to be visible

2025-03-17 14:11:48 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:11:48 | INFO     | FlightOptions        | 0

2025-03-17 14:11:53 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=18">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18) to be visible

2025-03-17 14:11:55 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:11:55 | INFO     | FlightOptions        | 0

2025-03-17 14:12:00 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=19">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19) to be visible

2025-03-17 14:12:02 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:12:02 | INFO     | FlightOptions        | 0

2025-03-17 14:12:02 | INFO     | FlightOptions        | Direct flights check result: True
2025-03-17 14:12:02 | INFO     | FlightOptions        | Checking one-stop flights
2025-03-17 14:12:02 | INFO     | FlightOptions        | Clicking checkbox: get_one_stop_checkbox
2025-03-17 14:12:02 | INFO     | FlightOptions        | Clicked checkbox: get_one_stop_checkbox
2025-03-17 14:12:02 | INFO     | FlightOptions        | Processing flight option: One Stop
2025-03-17 14:12:02 | INFO     | FlightOptions        | Number of stops for One Stop are: 
2025-03-17 14:12:04 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:12:04 | INFO     | FlightOptions        | 0

2025-03-17 14:12:06 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:12:06 | INFO     | FlightOptions        | 0

2025-03-17 14:12:08 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:12:08 | INFO     | FlightOptions        | 0

2025-03-17 14:12:08 | INFO     | FlightOptions        | One-stop flights check result: True
2025-03-17 14:12:08 | INFO     | conftest             | Test PASSED: test_flight_stops
2025-03-17 14:12:08 | INFO     | conftest             | Test completed: test_flight_stops
2025-03-17 14:12:08 | INFO     | conftest             | Closing page
2025-03-17 14:12:08 | INFO     | conftest             | Closing browser
2025-03-17 14:20:35 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 14:20:35 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 14:20:35 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 14:20:35 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 14:20:40 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 14:20:40 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 14:20:40 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 14:20:40 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 14:20:46 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 14:20:46 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 14:20:46 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 14:20:46 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 14:45:27 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 14:45:27 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 14:45:27 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 14:45:28 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 14:45:28 | INFO     | conftest             | Creating screenshot directory: /Users/zaki.sabir/Downloads/agoda/Reports/Images/
2025-03-17 14:45:28 | INFO     | conftest             | Cleared 0 existing screenshots from directory
2025-03-17 14:45:28 | INFO     | conftest             | Creating search_url fixture
2025-03-17 14:45:28 | INFO     | conftest             | Launching browser
2025-03-17 14:45:29 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:45:29 | INFO     | conftest             | Creating new page for test: test_verify_search_results
2025-03-17 14:45:29 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:45:29 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 14:45:30 | ERROR    | conftest             | Test FAILED: test_verify_search_results
2025-03-17 14:45:30 | ERROR    | conftest             | Error: page_tuple = (<Page url='about:blank'>, {'url': None})

    @pytest.mark.asyncio
    async def test_verify_search_results(page_tuple):
        # create an instance of trip options class
        page, get_url = page_tuple
        trip = FlightInfo(page)
>       await page.goto(get_url["url"])

tests/test_flight_options.py:13: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:9007: in goto
    await self._impl_obj.goto(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Page url='about:blank'>, url = None, timeout = None, waitUntil = None, referer = None

    async def goto(
        self,
        url: str,
        timeout: float = None,
        waitUntil: DocumentLoadState = None,
        referer: str = None,
    ) -> Optional[Response]:
>       return await self._main_frame.goto(**locals_to_params(locals()))
E       TypeError: Frame.goto() missing 1 required positional argument: 'url'

venv/lib/python3.13/site-packages/playwright/_impl/_page.py:559: TypeError
2025-03-17 14:45:30 | INFO     | conftest             | Test failed, capturing screenshot for: test_verify_search_results
2025-03-17 14:45:30 | INFO     | conftest             | Capturing screenshot to: /Users/zaki.sabir/Downloads/agoda/Reports/Images/test_verify_search_results_20250317_1445.png
2025-03-17 14:45:30 | INFO     | conftest             | Screenshot captured successfully
2025-03-17 14:45:30 | INFO     | conftest             | Adding screenshot to HTML report
2025-03-17 14:45:30 | INFO     | conftest             | Closing page
2025-03-17 14:45:30 | INFO     | conftest             | Closing browser
2025-03-17 14:45:30 | INFO     | conftest             | Launching browser
2025-03-17 14:45:31 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:45:31 | INFO     | conftest             | Creating new page for test: test_flight_data
2025-03-17 14:45:32 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:45:32 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 14:45:32 | ERROR    | conftest             | Test FAILED: test_flight_data
2025-03-17 14:45:32 | ERROR    | conftest             | Error: page_tuple = (<Page url='about:blank'>, {'url': None})

    @pytest.mark.asyncio
    async def test_flight_data(page_tuple):
        page, get_url = page_tuple   # recieves tuple from page fixture
        trip = FlightInfo(page)    # creates instance  of flightinfo class
>       await page.goto(get_url["url"])

tests/test_flight_options.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:9007: in goto
    await self._impl_obj.goto(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Page url='about:blank'>, url = None, timeout = None, waitUntil = None, referer = None

    async def goto(
        self,
        url: str,
        timeout: float = None,
        waitUntil: DocumentLoadState = None,
        referer: str = None,
    ) -> Optional[Response]:
>       return await self._main_frame.goto(**locals_to_params(locals()))
E       TypeError: Frame.goto() missing 1 required positional argument: 'url'

venv/lib/python3.13/site-packages/playwright/_impl/_page.py:559: TypeError
2025-03-17 14:45:32 | INFO     | conftest             | Test failed, capturing screenshot for: test_flight_data
2025-03-17 14:45:32 | INFO     | conftest             | Capturing screenshot to: /Users/zaki.sabir/Downloads/agoda/Reports/Images/test_flight_data_20250317_1445.png
2025-03-17 14:45:32 | INFO     | conftest             | Screenshot captured successfully
2025-03-17 14:45:32 | INFO     | conftest             | Adding screenshot to HTML report
2025-03-17 14:45:32 | INFO     | conftest             | Closing page
2025-03-17 14:45:32 | INFO     | conftest             | Closing browser
2025-03-17 14:45:33 | INFO     | conftest             | Launching browser
2025-03-17 14:45:34 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:45:34 | INFO     | conftest             | Creating new page for test: test_flight_stops
2025-03-17 14:45:35 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:45:35 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 14:45:35 | ERROR    | conftest             | Test FAILED: test_flight_stops
2025-03-17 14:45:35 | ERROR    | conftest             | Error: page_tuple = (<Page url='about:blank'>, {'url': None})

    @pytest.mark.asyncio
    async def test_flight_stops(page_tuple):
        page, get_url = page_tuple
        trip = FlightInfo(page)
>       await page.goto(get_url["url"])

tests/test_flight_options.py:33: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:9007: in goto
    await self._impl_obj.goto(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Page url='about:blank'>, url = None, timeout = None, waitUntil = None, referer = None

    async def goto(
        self,
        url: str,
        timeout: float = None,
        waitUntil: DocumentLoadState = None,
        referer: str = None,
    ) -> Optional[Response]:
>       return await self._main_frame.goto(**locals_to_params(locals()))
E       TypeError: Frame.goto() missing 1 required positional argument: 'url'

venv/lib/python3.13/site-packages/playwright/_impl/_page.py:559: TypeError
2025-03-17 14:45:35 | INFO     | conftest             | Test failed, capturing screenshot for: test_flight_stops
2025-03-17 14:45:35 | INFO     | conftest             | Capturing screenshot to: /Users/zaki.sabir/Downloads/agoda/Reports/Images/test_flight_stops_20250317_1445.png
2025-03-17 14:45:35 | INFO     | conftest             | Screenshot captured successfully
2025-03-17 14:45:35 | INFO     | conftest             | Adding screenshot to HTML report
2025-03-17 14:45:35 | INFO     | conftest             | Closing page
2025-03-17 14:45:35 | INFO     | conftest             | Closing browser
2025-03-17 14:46:06 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 14:46:06 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 14:46:11 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 14:46:11 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 14:46:11 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 14:46:11 | INFO     | conftest             | Loading test parameters from package.json for test_flight_booking
2025-03-17 14:46:11 | INFO     | conftest             | Loaded 2 parameter sets from package.json
2025-03-17 14:46:11 | INFO     | conftest             | Parametrized test_flight_booking with 2 parameter sets
2025-03-17 14:46:11 | INFO     | conftest             | Creating screenshot directory: /Users/zaki.sabir/Downloads/agoda/Reports/Images/
2025-03-17 14:46:11 | INFO     | conftest             | Cleared 3 existing screenshots from directory
2025-03-17 14:46:11 | INFO     | conftest             | Creating search_url fixture
2025-03-17 14:46:11 | INFO     | conftest             | Launching browser
2025-03-17 14:46:13 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:46:13 | INFO     | conftest             | Creating new page for test: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 14:46:13 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:46:13 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 14:46:25 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 14:46:25 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 14:46:25 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 14:46:25 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 14:46:25 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 14:46:25 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 14:46:27 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 14:46:27 | INFO     | RoundTrip            | Selecting departure airport: LHE
2025-03-17 14:46:27 | INFO     | RoundTrip            | Setting and verifying Departure airport: LHE
2025-03-17 14:46:28 | INFO     | RoundTrip            | Departure airport set to: LHE
2025-03-17 14:46:29 | INFO     | RoundTrip            | Selecting airport from options: LHE
2025-03-17 14:46:30 | INFO     | RoundTrip            | Found 13 airport options
2025-03-17 14:46:30 | INFO     | RoundTrip            | Found matching airport: AirportAllama Iqbal International AirportLHE
2025-03-17 14:46:30 | INFO     | RoundTrip            | Selected Departure airport: AirportAllama Iqbal International AirportLHE (Code: LHE)
2025-03-17 14:46:30 | INFO     | RoundTrip            | Actual Departure airport: Lahore (LHE) (Code: LHE)
2025-03-17 14:46:30 | INFO     | RoundTrip            | Departure airport selected: LHE
2025-03-17 14:46:30 | INFO     | RoundTrip            | Selecting arrival airport: JFK
2025-03-17 14:46:30 | INFO     | RoundTrip            | Setting and verifying Arrival airport: JFK
2025-03-17 14:46:30 | INFO     | RoundTrip            | Setting arrival airport to: JFK
2025-03-17 14:46:30 | INFO     | RoundTrip            | Arrival airport set to: JFK
2025-03-17 14:46:31 | INFO     | RoundTrip            | Selecting airport from options: JFK
2025-03-17 14:46:31 | INFO     | RoundTrip            | Found 5 airport options
2025-03-17 14:46:31 | INFO     | RoundTrip            | Found matching airport: AirportJohn F. Kennedy International AirportJFK
2025-03-17 14:46:31 | INFO     | RoundTrip            | Selected Arrival airport: AirportJohn F. Kennedy International AirportJFK (Code: JFK)
2025-03-17 14:46:31 | INFO     | RoundTrip            | Actual Arrival airport: New York (NY) (JFK) (Code: JFK)
2025-03-17 14:46:31 | INFO     | RoundTrip            | Arrival airport selected: JFK
2025-03-17 14:46:31 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 14:46:31 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 14:46:31 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 14:46:41 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 14:46:43 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 14:46:43 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 14:46:43 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 14:46:43 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 14:46:43 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 14:46:43 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 14:46:43 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 14:46:43 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 14:46:43 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 14:46:43 | INFO     | RoundTrip            | Selecting passengers: Adults=2, Children=1, Infants=0, Cabin=Business
2025-03-17 14:46:43 | INFO     | RoundTrip            | Adjusting adult count to 2
2025-03-17 14:46:43 | INFO     | RoundTrip            | Current adults: 1, Target: 2
2025-03-17 14:46:43 | INFO     | RoundTrip            | Adjusting children count to 1
2025-03-17 14:46:43 | INFO     | RoundTrip            | Current childrens: 0, Target: 1
2025-03-17 14:46:43 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 14:46:43 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 14:46:43 | INFO     | RoundTrip            | Selecting cabin class: Business
2025-03-17 14:46:43 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 14:46:43 | INFO     | RoundTrip            | Clicking search button
2025-03-17 14:46:44 | INFO     | RoundTrip            | Search button clicked
2025-03-17 14:46:44 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 14:46:46 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 14:46:46 | INFO     | conftest             | Test PASSED: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 14:46:46 | INFO     | conftest             | Test completed: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 14:46:46 | INFO     | conftest             | Closing page
2025-03-17 14:46:46 | INFO     | conftest             | Closing browser
2025-03-17 14:46:46 | INFO     | conftest             | Launching browser
2025-03-17 14:46:47 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:46:47 | INFO     | conftest             | Creating new page for test: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 14:46:48 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:46:48 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 14:46:59 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 14:46:59 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 14:46:59 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 14:46:59 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 14:46:59 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 14:46:59 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 14:46:59 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 14:46:59 | INFO     | RoundTrip            | Selecting departure airport: KHI
2025-03-17 14:46:59 | INFO     | RoundTrip            | Setting and verifying Departure airport: KHI
2025-03-17 14:47:00 | INFO     | RoundTrip            | Departure airport set to: KHI
2025-03-17 14:47:01 | INFO     | RoundTrip            | Selecting airport from options: KHI
2025-03-17 14:47:02 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 14:47:02 | INFO     | RoundTrip            | Found matching airport: AirportJinnah International AirportKHI
2025-03-17 14:47:02 | INFO     | RoundTrip            | Selected Departure airport: AirportJinnah International AirportKHI (Code: KHI)
2025-03-17 14:47:02 | INFO     | RoundTrip            | Actual Departure airport: Karachi (KHI) (Code: KHI)
2025-03-17 14:47:02 | INFO     | RoundTrip            | Departure airport selected: KHI
2025-03-17 14:47:02 | INFO     | RoundTrip            | Selecting arrival airport: IST
2025-03-17 14:47:02 | INFO     | RoundTrip            | Setting and verifying Arrival airport: IST
2025-03-17 14:47:02 | INFO     | RoundTrip            | Setting arrival airport to: IST
2025-03-17 14:47:02 | INFO     | RoundTrip            | Arrival airport set to: IST
2025-03-17 14:47:03 | INFO     | RoundTrip            | Selecting airport from options: IST
2025-03-17 14:47:03 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 14:47:03 | INFO     | RoundTrip            | Found matching airport: AirportIstanbul AirportIST
2025-03-17 14:47:03 | INFO     | RoundTrip            | Selected Arrival airport: AirportIstanbul AirportIST (Code: IST)
2025-03-17 14:47:04 | INFO     | RoundTrip            | Actual Arrival airport: İstanbul (IST) (Code: IST)
2025-03-17 14:47:04 | INFO     | RoundTrip            | Arrival airport selected: IST
2025-03-17 14:47:04 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 14:47:04 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 14:47:04 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 14:47:14 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 14:47:15 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 14:47:15 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 14:47:15 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 14:47:15 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 14:47:15 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 14:47:15 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 14:47:15 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 14:47:15 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 14:47:15 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 14:47:15 | INFO     | RoundTrip            | Selecting passengers: Adults=1, Children=0, Infants=0, Cabin=Economy
2025-03-17 14:47:15 | INFO     | RoundTrip            | Adjusting adult count to 1
2025-03-17 14:47:15 | INFO     | RoundTrip            | Current adults: 1, Target: 1
2025-03-17 14:47:15 | INFO     | RoundTrip            | Adjusting children count to 0
2025-03-17 14:47:15 | INFO     | RoundTrip            | Current childrens: 0, Target: 0
2025-03-17 14:47:15 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 14:47:15 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 14:47:15 | INFO     | RoundTrip            | Selecting cabin class: Economy
2025-03-17 14:47:15 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 14:47:15 | INFO     | RoundTrip            | Clicking search button
2025-03-17 14:47:16 | INFO     | RoundTrip            | Search button clicked
2025-03-17 14:47:16 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 14:47:17 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 14:47:17 | INFO     | conftest             | Test PASSED: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 14:47:17 | INFO     | conftest             | Test completed: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 14:47:17 | INFO     | conftest             | Closing page
2025-03-17 14:47:17 | INFO     | conftest             | Closing browser
2025-03-17 14:47:18 | INFO     | conftest             | Launching browser
2025-03-17 14:47:19 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:47:19 | INFO     | conftest             | Creating new page for test: test_verify_search_results
2025-03-17 14:47:20 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:47:20 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 14:47:24 | INFO     | FlightOptions        | Validating search parameters
2025-03-17 14:47:24 | INFO     | FlightOptions        | Validating URL: https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8
2025-03-17 14:47:24 | INFO     | FlightOptions        | Extracted from URL:
2025-03-17 14:47:24 | INFO     | FlightOptions        | departureFrom: KHI
2025-03-17 14:47:24 | INFO     | FlightOptions        | arrivalTo: IST
2025-03-17 14:47:24 | INFO     | FlightOptions        | departDate: 2025-04-26
2025-03-17 14:47:24 | INFO     | FlightOptions        | returnDate: 2025-05-16
2025-03-17 14:47:24 | INFO     | FlightOptions        | adults: 1
2025-03-17 14:47:24 | INFO     | FlightOptions        | children: 0
2025-03-17 14:47:24 | INFO     | FlightOptions        | infants: 0
2025-03-17 14:47:24 | INFO     | FlightOptions        | cabinType: Economy
2025-03-17 14:47:24 | INFO     | FlightOptions        | Validating from header
2025-03-17 14:47:26 | INFO     | FlightOptions        | Departure value: Karachi (KHI)
2025-03-17 14:47:26 | INFO     | FlightOptions        | Arrival value: İstanbul (IST)
2025-03-17 14:47:27 | INFO     | FlightOptions        | Clicked departure calendar button
2025-03-17 14:47:28 | INFO     | FlightOptions        | Departure date: 2025-04-26
2025-03-17 14:47:28 | INFO     | FlightOptions        | Clicked return calendar button
2025-03-17 14:47:29 | INFO     | FlightOptions        | Return date: 2025-05-16
2025-03-17 14:47:29 | INFO     | FlightOptions        | Clicked passenger dropdown
2025-03-17 14:47:29 | INFO     | FlightOptions        | Adults count: 1
2025-03-17 14:47:29 | INFO     | FlightOptions        | Children count: 0
2025-03-17 14:47:29 | INFO     | FlightOptions        | Infants count: 0
2025-03-17 14:47:29 | INFO     | FlightOptions        | Cabin type: Economy
2025-03-17 14:47:29 | INFO     | FlightOptions        | Extracted from Header: ['Karachi (KHI)', 'İstanbul (IST)', '2025-04-26', '2025-05-16', '1', '0', '0', 'Economy']
2025-03-17 14:47:29 | INFO     | FlightOptions        | Search parameters validated successfully
2025-03-17 14:47:29 | INFO     | test_flight_options  | search validated
2025-03-17 14:47:29 | INFO     | conftest             | Test PASSED: test_verify_search_results
2025-03-17 14:47:29 | INFO     | conftest             | Test completed: test_verify_search_results
2025-03-17 14:47:29 | INFO     | conftest             | Closing page
2025-03-17 14:47:30 | INFO     | conftest             | Closing browser
2025-03-17 14:47:30 | INFO     | conftest             | Launching browser
2025-03-17 14:47:31 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:47:31 | INFO     | conftest             | Creating new page for test: test_flight_data
2025-03-17 14:47:32 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:47:32 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 14:47:35 | INFO     | FlightOptions        | Collecting flight data
2025-03-17 14:47:35 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 14:47:45 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 14:47:45 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 14:47:47 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:47:50 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:47:52 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:47:53 | INFO     | test_flight_options  | 
Flight Data (Array):
2025-03-17 14:47:53 | INFO     | test_flight_options  | +---------------------------------+------------+-------------+------------+
| Carrier                         | Duration   | Price       |   Layovers |
+=================================+============+=============+============+
| Pegasus Airlines                | 5h 50m     | 121,949 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Turkish Airlines                | 6h 0m      | 206,233 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Pakistan International Airlines | 6h 0m      | 234,961 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Etihad Airways                  | 9h 55m     | 119,224 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Jazeera Airways                 | 11h 55m    | 128,927 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 25h 50m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 12h 20m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 9h 0m      | 131,051 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 15h 45m    | 131,091 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 23h 20m    | 131,091 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 30m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 55m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 5m     | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 45m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 10h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 14h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 15h 40m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 22h 5m     | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
2025-03-17 14:47:53 | INFO     | conftest             | Test PASSED: test_flight_data
2025-03-17 14:47:53 | INFO     | conftest             | Test completed: test_flight_data
2025-03-17 14:47:53 | INFO     | conftest             | Closing page
2025-03-17 14:47:53 | INFO     | conftest             | Closing browser
2025-03-17 14:47:54 | INFO     | conftest             | Launching browser
2025-03-17 14:47:55 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 14:47:55 | INFO     | conftest             | Creating new page for test: test_flight_stops
2025-03-17 14:47:55 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 14:47:55 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 14:48:01 | INFO     | FlightOptions        | Checking direct flights
2025-03-17 14:48:01 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 14:48:11 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 14:48:11 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 14:48:11 | INFO     | FlightOptions        | Clicking checkbox: get_direct_stop_checkbox
2025-03-17 14:48:11 | INFO     | FlightOptions        | Clicked checkbox: get_direct_stop_checkbox
2025-03-17 14:48:12 | INFO     | FlightOptions        | Processing flight option: direct
2025-03-17 14:48:12 | INFO     | FlightOptions        | Number of stops for direct are: 
2025-03-17 14:48:14 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:48:14 | INFO     | FlightOptions        | 0

2025-03-17 14:48:16 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:48:16 | INFO     | FlightOptions        | 0

2025-03-17 14:48:18 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:48:18 | INFO     | FlightOptions        | 0

2025-03-17 14:48:23 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=3">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3) to be visible

2025-03-17 14:48:25 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:48:25 | INFO     | FlightOptions        | 0

2025-03-17 14:48:30 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=4">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4) to be visible

2025-03-17 14:48:32 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:48:32 | INFO     | FlightOptions        | 0

2025-03-17 14:48:37 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=5">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5) to be visible

2025-03-17 14:48:39 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:48:39 | INFO     | FlightOptions        | 0

2025-03-17 14:48:44 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=6">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6) to be visible

2025-03-17 14:48:46 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:48:46 | INFO     | FlightOptions        | 0

2025-03-17 14:48:51 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=7">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7) to be visible

2025-03-17 14:48:53 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:48:53 | INFO     | FlightOptions        | 0

2025-03-17 14:48:58 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=8">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8) to be visible

2025-03-17 14:49:00 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:49:00 | INFO     | FlightOptions        | 0

2025-03-17 14:49:05 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=9">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9) to be visible

2025-03-17 14:49:07 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:49:07 | INFO     | FlightOptions        | 0

2025-03-17 14:49:12 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=10">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10) to be visible

2025-03-17 14:49:14 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:49:14 | INFO     | FlightOptions        | 0

2025-03-17 14:49:19 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=11">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11) to be visible

2025-03-17 14:49:21 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:49:21 | INFO     | FlightOptions        | 0

2025-03-17 14:49:26 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=12">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12) to be visible

2025-03-17 14:49:28 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:49:28 | INFO     | FlightOptions        | 0

2025-03-17 14:49:33 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=13">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13) to be visible

2025-03-17 14:49:35 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:49:35 | INFO     | FlightOptions        | 0

2025-03-17 14:49:40 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=14">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14) to be visible

2025-03-17 14:49:42 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:49:42 | INFO     | FlightOptions        | 0

2025-03-17 14:49:47 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=15">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15) to be visible

2025-03-17 14:49:49 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:49:49 | INFO     | FlightOptions        | 0

2025-03-17 14:49:54 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=16">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16) to be visible

2025-03-17 14:49:56 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:49:56 | INFO     | FlightOptions        | 0

2025-03-17 14:50:01 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=17">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17) to be visible

2025-03-17 14:50:03 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:50:03 | INFO     | FlightOptions        | 0

2025-03-17 14:50:08 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=18">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18) to be visible

2025-03-17 14:50:10 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:50:10 | INFO     | FlightOptions        | 0

2025-03-17 14:50:15 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=19">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19) to be visible

2025-03-17 14:50:17 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:50:17 | INFO     | FlightOptions        | 0

2025-03-17 14:50:17 | INFO     | FlightOptions        | Direct flights check result: True
2025-03-17 14:50:17 | INFO     | FlightOptions        | Checking one-stop flights
2025-03-17 14:50:17 | INFO     | FlightOptions        | Clicking checkbox: get_one_stop_checkbox
2025-03-17 14:50:17 | INFO     | FlightOptions        | Clicked checkbox: get_one_stop_checkbox
2025-03-17 14:50:17 | INFO     | FlightOptions        | Processing flight option: One Stop
2025-03-17 14:50:17 | INFO     | FlightOptions        | Number of stops for One Stop are: 
2025-03-17 14:50:19 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:50:19 | INFO     | FlightOptions        | 0

2025-03-17 14:50:21 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:50:21 | INFO     | FlightOptions        | 0

2025-03-17 14:50:23 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 14:50:23 | INFO     | FlightOptions        | 0

2025-03-17 14:50:23 | INFO     | FlightOptions        | One-stop flights check result: True
2025-03-17 14:50:23 | INFO     | conftest             | Test PASSED: test_flight_stops
2025-03-17 14:50:23 | INFO     | conftest             | Test completed: test_flight_stops
2025-03-17 14:50:23 | INFO     | conftest             | Closing page
2025-03-17 14:50:23 | INFO     | conftest             | Closing browser
2025-03-17 15:22:41 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:22:41 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:22:41 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:22:41 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:22:42 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:22:42 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:22:42 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:22:42 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:26:36 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:26:36 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:26:36 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:26:36 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:26:38 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:26:38 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:26:38 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:26:38 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:26:41 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:26:41 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:26:41 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:26:41 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:27:01 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:27:01 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:27:01 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:27:01 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:27:03 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:27:03 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:27:03 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:27:04 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:27:09 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:27:09 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:27:09 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:27:09 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:27:11 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:27:11 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:27:11 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:27:11 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:27:12 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:27:12 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:27:12 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:27:12 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:27:28 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:27:28 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:27:28 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:27:28 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:27:56 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:27:56 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:27:56 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:27:56 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:28:01 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:28:01 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:28:01 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:28:01 | INFO     | conftest             | Loading test parameters from package.json for test_flight_booking
2025-03-17 15:28:01 | INFO     | conftest             | Loaded 2 parameter sets from package.json
2025-03-17 15:28:01 | INFO     | conftest             | Parametrized test_flight_booking with 2 parameter sets
2025-03-17 15:28:01 | INFO     | conftest             | Creating screenshot directory: /Users/zaki.sabir/Downloads/agoda/Reports/Images/
2025-03-17 15:28:01 | INFO     | conftest             | Cleared 0 existing screenshots from directory
2025-03-17 15:28:01 | INFO     | conftest             | Creating search_url fixture
2025-03-17 15:28:01 | INFO     | conftest             | Launching browser
2025-03-17 15:28:02 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:28:02 | INFO     | conftest             | Creating new page for test: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:28:03 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:28:03 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 15:28:32 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 15:28:32 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 15:28:32 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 15:28:33 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 15:28:33 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 15:28:33 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 15:28:36 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 15:28:36 | INFO     | RoundTrip            | Selecting departure airport: LHE
2025-03-17 15:28:36 | INFO     | RoundTrip            | Setting and verifying Departure airport: LHE
2025-03-17 15:28:37 | INFO     | RoundTrip            | Departure airport set to: LHE
2025-03-17 15:28:38 | INFO     | RoundTrip            | Selecting airport from options: LHE
2025-03-17 15:28:38 | INFO     | RoundTrip            | Found 13 airport options
2025-03-17 15:28:38 | INFO     | RoundTrip            | Found matching airport: AirportAllama Iqbal International AirportLHE
2025-03-17 15:28:38 | INFO     | RoundTrip            | Selected Departure airport: AirportAllama Iqbal International AirportLHE (Code: LHE)
2025-03-17 15:28:39 | INFO     | RoundTrip            | Actual Departure airport: Lahore (LHE) (Code: LHE)
2025-03-17 15:28:39 | INFO     | RoundTrip            | Departure airport selected: LHE
2025-03-17 15:28:39 | INFO     | RoundTrip            | Selecting arrival airport: JFK
2025-03-17 15:28:39 | INFO     | RoundTrip            | Setting and verifying Arrival airport: JFK
2025-03-17 15:28:39 | INFO     | RoundTrip            | Setting arrival airport to: JFK
2025-03-17 15:28:39 | INFO     | RoundTrip            | Arrival airport set to: JFK
2025-03-17 15:28:40 | INFO     | RoundTrip            | Selecting airport from options: JFK
2025-03-17 15:28:40 | INFO     | RoundTrip            | Found 5 airport options
2025-03-17 15:28:40 | INFO     | RoundTrip            | Found matching airport: AirportJohn F. Kennedy International AirportJFK
2025-03-17 15:28:40 | INFO     | RoundTrip            | Selected Arrival airport: AirportJohn F. Kennedy International AirportJFK (Code: JFK)
2025-03-17 15:28:40 | INFO     | RoundTrip            | Actual Arrival airport: New York (NY) (JFK) (Code: JFK)
2025-03-17 15:28:40 | INFO     | RoundTrip            | Arrival airport selected: JFK
2025-03-17 15:28:40 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:28:40 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 15:28:40 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:28:50 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 15:28:51 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 15:28:51 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 15:28:51 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:28:51 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 15:28:51 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 15:28:51 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 15:28:51 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:28:51 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 15:28:51 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 15:28:51 | INFO     | RoundTrip            | Selecting passengers: Adults=2, Children=1, Infants=0, Cabin=Business
2025-03-17 15:28:51 | INFO     | RoundTrip            | Adjusting adult count to 2
2025-03-17 15:28:51 | INFO     | RoundTrip            | Current adults: 1, Target: 2
2025-03-17 15:28:51 | INFO     | RoundTrip            | Adjusting children count to 1
2025-03-17 15:28:51 | INFO     | RoundTrip            | Current childrens: 0, Target: 1
2025-03-17 15:28:51 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 15:28:52 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 15:28:52 | INFO     | RoundTrip            | Selecting cabin class: Business
2025-03-17 15:28:52 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 15:28:52 | INFO     | RoundTrip            | Clicking search button
2025-03-17 15:28:52 | INFO     | RoundTrip            | Search button clicked
2025-03-17 15:28:52 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 15:28:56 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 15:28:56 | INFO     | conftest             | Test PASSED: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:28:56 | INFO     | conftest             | Test completed: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:28:56 | INFO     | conftest             | Closing page
2025-03-17 15:28:56 | INFO     | conftest             | Closing browser
2025-03-17 15:28:56 | INFO     | conftest             | Launching browser
2025-03-17 15:28:58 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:28:58 | INFO     | conftest             | Creating new page for test: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:28:59 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:28:59 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 15:29:09 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 15:29:09 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 15:29:09 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 15:29:10 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 15:29:10 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 15:29:10 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 15:29:11 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 15:29:11 | INFO     | RoundTrip            | Selecting departure airport: KHI
2025-03-17 15:29:11 | INFO     | RoundTrip            | Setting and verifying Departure airport: KHI
2025-03-17 15:29:12 | INFO     | RoundTrip            | Departure airport set to: KHI
2025-03-17 15:29:13 | INFO     | RoundTrip            | Selecting airport from options: KHI
2025-03-17 15:29:14 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 15:29:14 | INFO     | RoundTrip            | Found matching airport: AirportJinnah International AirportKHI
2025-03-17 15:29:14 | INFO     | RoundTrip            | Selected Departure airport: AirportJinnah International AirportKHI (Code: KHI)
2025-03-17 15:29:14 | INFO     | RoundTrip            | Actual Departure airport: Karachi (KHI) (Code: KHI)
2025-03-17 15:29:14 | INFO     | RoundTrip            | Departure airport selected: KHI
2025-03-17 15:29:14 | INFO     | RoundTrip            | Selecting arrival airport: IST
2025-03-17 15:29:14 | INFO     | RoundTrip            | Setting and verifying Arrival airport: IST
2025-03-17 15:29:14 | INFO     | RoundTrip            | Setting arrival airport to: IST
2025-03-17 15:29:14 | INFO     | RoundTrip            | Arrival airport set to: IST
2025-03-17 15:29:15 | INFO     | RoundTrip            | Selecting airport from options: IST
2025-03-17 15:29:15 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 15:29:15 | INFO     | RoundTrip            | Found matching airport: AirportIstanbul AirportIST
2025-03-17 15:29:16 | INFO     | RoundTrip            | Selected Arrival airport: AirportIstanbul AirportIST (Code: IST)
2025-03-17 15:29:16 | INFO     | RoundTrip            | Actual Arrival airport: İstanbul (IST) (Code: IST)
2025-03-17 15:29:16 | INFO     | RoundTrip            | Arrival airport selected: IST
2025-03-17 15:29:16 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:29:16 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 15:29:16 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:29:26 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 15:29:27 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 15:29:27 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 15:29:27 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:29:27 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 15:29:27 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 15:29:27 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 15:29:27 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:29:27 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 15:29:27 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 15:29:27 | INFO     | RoundTrip            | Selecting passengers: Adults=1, Children=0, Infants=0, Cabin=Economy
2025-03-17 15:29:27 | INFO     | RoundTrip            | Adjusting adult count to 1
2025-03-17 15:29:27 | INFO     | RoundTrip            | Current adults: 1, Target: 1
2025-03-17 15:29:27 | INFO     | RoundTrip            | Adjusting children count to 0
2025-03-17 15:29:27 | INFO     | RoundTrip            | Current childrens: 0, Target: 0
2025-03-17 15:29:27 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 15:29:27 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 15:29:27 | INFO     | RoundTrip            | Selecting cabin class: Economy
2025-03-17 15:29:27 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 15:29:27 | INFO     | RoundTrip            | Clicking search button
2025-03-17 15:29:28 | INFO     | RoundTrip            | Search button clicked
2025-03-17 15:29:28 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 15:29:30 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 15:29:30 | INFO     | conftest             | Test PASSED: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:29:30 | INFO     | conftest             | Test completed: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:29:30 | INFO     | conftest             | Closing page
2025-03-17 15:29:30 | INFO     | conftest             | Closing browser
2025-03-17 15:29:30 | INFO     | conftest             | Launching browser
2025-03-17 15:29:31 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:29:31 | INFO     | conftest             | Creating new page for test: test_verify_search_results
2025-03-17 15:29:32 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:29:32 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:29:35 | INFO     | FlightOptions        | Validating search parameters
2025-03-17 15:29:35 | INFO     | FlightOptions        | Validating URL: https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8
2025-03-17 15:29:35 | INFO     | FlightOptions        | Extracted from URL:
2025-03-17 15:29:35 | INFO     | FlightOptions        | departureFrom: KHI
2025-03-17 15:29:35 | INFO     | FlightOptions        | arrivalTo: IST
2025-03-17 15:29:35 | INFO     | FlightOptions        | departDate: 2025-04-26
2025-03-17 15:29:35 | INFO     | FlightOptions        | returnDate: 2025-05-16
2025-03-17 15:29:35 | INFO     | FlightOptions        | adults: 1
2025-03-17 15:29:35 | INFO     | FlightOptions        | children: 0
2025-03-17 15:29:35 | INFO     | FlightOptions        | infants: 0
2025-03-17 15:29:35 | INFO     | FlightOptions        | cabinType: Economy
2025-03-17 15:29:35 | INFO     | FlightOptions        | Validating from header
2025-03-17 15:29:37 | INFO     | FlightOptions        | Departure value: Karachi (KHI)
2025-03-17 15:29:37 | INFO     | FlightOptions        | Arrival value: İstanbul (IST)
2025-03-17 15:29:37 | INFO     | FlightOptions        | Clicked departure calendar button
2025-03-17 15:29:39 | INFO     | FlightOptions        | Departure date: 2025-04-26
2025-03-17 15:29:40 | INFO     | FlightOptions        | Clicked return calendar button
2025-03-17 15:29:41 | INFO     | FlightOptions        | Return date: 2025-05-16
2025-03-17 15:29:41 | INFO     | FlightOptions        | Clicked passenger dropdown
2025-03-17 15:29:42 | INFO     | FlightOptions        | Adults count: 1
2025-03-17 15:29:42 | INFO     | FlightOptions        | Children count: 0
2025-03-17 15:29:42 | INFO     | FlightOptions        | Infants count: 0
2025-03-17 15:29:42 | INFO     | FlightOptions        | Cabin type: Economy
2025-03-17 15:29:42 | INFO     | FlightOptions        | Extracted from Header: ['Karachi (KHI)', 'İstanbul (IST)', '2025-04-26', '2025-05-16', '1', '0', '0', 'Economy']
2025-03-17 15:29:42 | INFO     | FlightOptions        | Search parameters validated successfully
2025-03-17 15:29:42 | INFO     | test_flight_options  | search validated
2025-03-17 15:29:42 | INFO     | conftest             | Test PASSED: test_verify_search_results
2025-03-17 15:29:42 | INFO     | conftest             | Test completed: test_verify_search_results
2025-03-17 15:29:42 | INFO     | conftest             | Closing page
2025-03-17 15:29:42 | INFO     | conftest             | Closing browser
2025-03-17 15:29:43 | INFO     | conftest             | Launching browser
2025-03-17 15:29:44 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:29:44 | INFO     | conftest             | Creating new page for test: test_flight_data
2025-03-17 15:29:45 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:29:45 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:29:48 | INFO     | FlightOptions        | Collecting flight data
2025-03-17 15:29:48 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 15:29:58 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 15:29:58 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 15:30:00 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:02 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:05 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:06 | INFO     | test_flight_options  | 
Flight Data (Array):
2025-03-17 15:30:06 | INFO     | test_flight_options  | +---------------------------------+------------+-------------+------------+
| Carrier                         | Duration   | Price       |   Layovers |
+=================================+============+=============+============+
| Pegasus Airlines                | 5h 50m     | 121,949 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Turkish Airlines                | 6h 0m      | 206,233 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Pakistan International Airlines | 6h 0m      | 234,961 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Etihad Airways                  | 9h 55m     | 119,224 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Jazeera Airways                 | 11h 55m    | 128,927 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 25h 50m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 12h 20m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 30m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 55m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 5m     | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 45m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 10h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 14h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 15h 40m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 22h 5m     | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 27h 40m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 28h 30m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Saudia                          | 9h 50m     | 139,645 PKR |          1 |
+---------------------------------+------------+-------------+------------+
2025-03-17 15:30:06 | INFO     | conftest             | Test PASSED: test_flight_data
2025-03-17 15:30:06 | INFO     | conftest             | Test completed: test_flight_data
2025-03-17 15:30:06 | INFO     | conftest             | Closing page
2025-03-17 15:30:06 | INFO     | conftest             | Closing browser
2025-03-17 15:30:06 | INFO     | conftest             | Launching browser
2025-03-17 15:30:08 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:30:08 | INFO     | conftest             | Creating new page for test: test_flight_stops
2025-03-17 15:30:08 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:30:08 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:30:12 | INFO     | FlightOptions        | Checking direct flights
2025-03-17 15:30:12 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 15:30:22 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 15:30:22 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 15:30:22 | INFO     | FlightOptions        | Clicking checkbox: get_direct_stop_checkbox
2025-03-17 15:30:23 | INFO     | FlightOptions        | Clicked checkbox: get_direct_stop_checkbox
2025-03-17 15:30:23 | INFO     | FlightOptions        | Processing flight option: direct
2025-03-17 15:30:23 | INFO     | FlightOptions        | Number of stops for direct are: 
2025-03-17 15:30:25 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:25 | INFO     | FlightOptions        | 0

2025-03-17 15:30:27 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:27 | INFO     | FlightOptions        | 0

2025-03-17 15:30:29 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:29 | INFO     | FlightOptions        | 0

2025-03-17 15:30:34 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=3">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3) to be visible

2025-03-17 15:30:36 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:36 | INFO     | FlightOptions        | 0

2025-03-17 15:30:41 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=4">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4) to be visible

2025-03-17 15:30:43 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:43 | INFO     | FlightOptions        | 0

2025-03-17 15:30:48 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=5">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5) to be visible

2025-03-17 15:30:50 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:50 | INFO     | FlightOptions        | 0

2025-03-17 15:30:55 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=6">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6) to be visible

2025-03-17 15:30:57 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:30:57 | INFO     | FlightOptions        | 0

2025-03-17 15:31:02 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=7">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7) to be visible

2025-03-17 15:31:04 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:31:04 | INFO     | FlightOptions        | 0

2025-03-17 15:31:09 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=8">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8) to be visible

2025-03-17 15:31:11 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:31:11 | INFO     | FlightOptions        | 0

2025-03-17 15:31:16 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=9">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9) to be visible

2025-03-17 15:31:18 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:31:18 | INFO     | FlightOptions        | 0

2025-03-17 15:31:23 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=10">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10) to be visible

2025-03-17 15:31:25 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:31:25 | INFO     | FlightOptions        | 0

2025-03-17 15:31:30 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=11">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11) to be visible

2025-03-17 15:31:32 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:31:32 | INFO     | FlightOptions        | 0

2025-03-17 15:31:37 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=12">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12) to be visible

2025-03-17 15:31:39 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:31:39 | INFO     | FlightOptions        | 0

2025-03-17 15:31:44 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=13">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13) to be visible

2025-03-17 15:31:46 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:31:46 | INFO     | FlightOptions        | 0

2025-03-17 15:31:51 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=14">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14) to be visible

2025-03-17 15:31:53 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:31:53 | INFO     | FlightOptions        | 0

2025-03-17 15:31:58 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=15">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15) to be visible

2025-03-17 15:32:00 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:32:00 | INFO     | FlightOptions        | 0

2025-03-17 15:32:05 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=16">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16) to be visible

2025-03-17 15:32:07 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:32:07 | INFO     | FlightOptions        | 0

2025-03-17 15:32:12 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=17">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17) to be visible

2025-03-17 15:32:14 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:32:14 | INFO     | FlightOptions        | 0

2025-03-17 15:32:19 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=18">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18) to be visible

2025-03-17 15:32:21 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:32:21 | INFO     | FlightOptions        | 0

2025-03-17 15:32:26 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=19">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19) to be visible

2025-03-17 15:32:28 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:32:28 | INFO     | FlightOptions        | 0

2025-03-17 15:32:28 | INFO     | FlightOptions        | Direct flights check result: True
2025-03-17 15:32:28 | INFO     | conftest             | Test PASSED: test_flight_stops
2025-03-17 15:32:28 | INFO     | conftest             | Test completed: test_flight_stops
2025-03-17 15:32:28 | INFO     | conftest             | Closing page
2025-03-17 15:32:28 | INFO     | conftest             | Closing browser
2025-03-17 15:35:38 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:35:38 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:35:38 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:35:38 | INFO     | conftest             | Loading test parameters from package.json for test_flight_booking
2025-03-17 15:35:38 | INFO     | conftest             | Loaded 2 parameter sets from package.json
2025-03-17 15:35:38 | INFO     | conftest             | Parametrized test_flight_booking with 2 parameter sets
2025-03-17 15:35:38 | INFO     | conftest             | Creating screenshot directory: /Users/zaki.sabir/Downloads/agoda/Reports/Images/
2025-03-17 15:35:38 | INFO     | conftest             | Cleared 0 existing screenshots from directory
2025-03-17 15:35:38 | INFO     | conftest             | Creating search_url fixture
2025-03-17 15:35:38 | INFO     | conftest             | Launching browser
2025-03-17 15:35:39 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:35:39 | INFO     | conftest             | Creating new page for test: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:35:40 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:35:40 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 15:35:48 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 15:35:48 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 15:35:48 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 15:35:48 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 15:35:48 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 15:35:48 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 15:35:48 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 15:35:48 | INFO     | RoundTrip            | Selecting departure airport: LHE
2025-03-17 15:35:48 | INFO     | RoundTrip            | Setting and verifying Departure airport: LHE
2025-03-17 15:35:49 | INFO     | RoundTrip            | Departure airport set to: LHE
2025-03-17 15:35:50 | INFO     | RoundTrip            | Selecting airport from options: LHE
2025-03-17 15:35:50 | INFO     | RoundTrip            | Found 13 airport options
2025-03-17 15:35:50 | INFO     | RoundTrip            | Found matching airport: AirportAllama Iqbal International AirportLHE
2025-03-17 15:35:50 | INFO     | RoundTrip            | Selected Departure airport: AirportAllama Iqbal International AirportLHE (Code: LHE)
2025-03-17 15:35:50 | INFO     | RoundTrip            | Actual Departure airport: Lahore (LHE) (Code: LHE)
2025-03-17 15:35:50 | INFO     | RoundTrip            | Departure airport selected: LHE
2025-03-17 15:35:50 | INFO     | RoundTrip            | Selecting arrival airport: JFK
2025-03-17 15:35:50 | INFO     | RoundTrip            | Setting and verifying Arrival airport: JFK
2025-03-17 15:35:50 | INFO     | RoundTrip            | Setting arrival airport to: JFK
2025-03-17 15:35:51 | INFO     | RoundTrip            | Arrival airport set to: JFK
2025-03-17 15:35:52 | INFO     | RoundTrip            | Selecting airport from options: JFK
2025-03-17 15:35:52 | INFO     | RoundTrip            | Found 5 airport options
2025-03-17 15:35:52 | INFO     | RoundTrip            | Found matching airport: AirportJohn F. Kennedy International AirportJFK
2025-03-17 15:35:52 | INFO     | RoundTrip            | Selected Arrival airport: AirportJohn F. Kennedy International AirportJFK (Code: JFK)
2025-03-17 15:35:52 | INFO     | RoundTrip            | Actual Arrival airport: New York (NY) (JFK) (Code: JFK)
2025-03-17 15:35:52 | INFO     | RoundTrip            | Arrival airport selected: JFK
2025-03-17 15:35:52 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:35:53 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 15:35:53 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:36:03 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 15:36:04 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 15:36:04 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 15:36:04 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:36:04 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 15:36:04 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 15:36:04 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 15:36:04 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:36:04 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 15:36:04 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 15:36:04 | INFO     | RoundTrip            | Selecting passengers: Adults=2, Children=1, Infants=0, Cabin=Business
2025-03-17 15:36:04 | INFO     | RoundTrip            | Adjusting adult count to 2
2025-03-17 15:36:04 | INFO     | RoundTrip            | Current adults: 1, Target: 2
2025-03-17 15:36:04 | INFO     | RoundTrip            | Adjusting children count to 1
2025-03-17 15:36:04 | INFO     | RoundTrip            | Current childrens: 0, Target: 1
2025-03-17 15:36:04 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 15:36:04 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 15:36:04 | INFO     | RoundTrip            | Selecting cabin class: Business
2025-03-17 15:36:04 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 15:36:04 | INFO     | RoundTrip            | Clicking search button
2025-03-17 15:36:05 | INFO     | RoundTrip            | Search button clicked
2025-03-17 15:36:05 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 15:36:07 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 15:36:07 | INFO     | conftest             | Test PASSED: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:36:07 | INFO     | conftest             | Test completed: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:36:07 | INFO     | conftest             | Closing page
2025-03-17 15:36:07 | INFO     | conftest             | Closing browser
2025-03-17 15:36:07 | INFO     | conftest             | Launching browser
2025-03-17 15:36:08 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:36:08 | INFO     | conftest             | Creating new page for test: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:36:09 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:36:09 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 15:36:14 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 15:36:14 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 15:36:14 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 15:36:14 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 15:36:14 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 15:36:14 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 15:36:14 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 15:36:14 | INFO     | RoundTrip            | Selecting departure airport: KHI
2025-03-17 15:36:14 | INFO     | RoundTrip            | Setting and verifying Departure airport: KHI
2025-03-17 15:36:14 | INFO     | RoundTrip            | Departure airport set to: KHI
2025-03-17 15:36:15 | INFO     | RoundTrip            | Selecting airport from options: KHI
2025-03-17 15:36:15 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 15:36:15 | INFO     | RoundTrip            | Found matching airport: AirportJinnah International AirportKHI
2025-03-17 15:36:16 | INFO     | RoundTrip            | Selected Departure airport: AirportJinnah International AirportKHI (Code: KHI)
2025-03-17 15:36:16 | INFO     | RoundTrip            | Actual Departure airport: Karachi (KHI) (Code: KHI)
2025-03-17 15:36:16 | INFO     | RoundTrip            | Departure airport selected: KHI
2025-03-17 15:36:16 | INFO     | RoundTrip            | Selecting arrival airport: IST
2025-03-17 15:36:16 | INFO     | RoundTrip            | Setting and verifying Arrival airport: IST
2025-03-17 15:36:16 | INFO     | RoundTrip            | Setting arrival airport to: IST
2025-03-17 15:36:16 | INFO     | RoundTrip            | Arrival airport set to: IST
2025-03-17 15:36:17 | INFO     | RoundTrip            | Selecting airport from options: IST
2025-03-17 15:36:17 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 15:36:17 | INFO     | RoundTrip            | Found matching airport: AirportIstanbul AirportIST
2025-03-17 15:36:17 | INFO     | RoundTrip            | Selected Arrival airport: AirportIstanbul AirportIST (Code: IST)
2025-03-17 15:36:17 | INFO     | RoundTrip            | Actual Arrival airport: İstanbul (IST) (Code: IST)
2025-03-17 15:36:17 | INFO     | RoundTrip            | Arrival airport selected: IST
2025-03-17 15:36:17 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:36:17 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 15:36:17 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:36:27 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 15:36:28 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 15:36:28 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 15:36:28 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:36:28 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 15:36:28 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 15:36:28 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 15:36:28 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:36:28 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 15:36:28 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 15:36:28 | INFO     | RoundTrip            | Selecting passengers: Adults=1, Children=0, Infants=0, Cabin=Economy
2025-03-17 15:36:28 | INFO     | RoundTrip            | Adjusting adult count to 1
2025-03-17 15:36:29 | INFO     | RoundTrip            | Current adults: 1, Target: 1
2025-03-17 15:36:29 | INFO     | RoundTrip            | Adjusting children count to 0
2025-03-17 15:36:29 | INFO     | RoundTrip            | Current childrens: 0, Target: 0
2025-03-17 15:36:29 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 15:36:29 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 15:36:29 | INFO     | RoundTrip            | Selecting cabin class: Economy
2025-03-17 15:36:29 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 15:36:29 | INFO     | RoundTrip            | Clicking search button
2025-03-17 15:36:29 | INFO     | RoundTrip            | Search button clicked
2025-03-17 15:36:29 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 15:36:31 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 15:36:31 | INFO     | conftest             | Test PASSED: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:36:31 | INFO     | conftest             | Test completed: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:36:31 | INFO     | conftest             | Closing page
2025-03-17 15:36:31 | INFO     | conftest             | Closing browser
2025-03-17 15:36:31 | INFO     | conftest             | Launching browser
2025-03-17 15:36:32 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:36:32 | INFO     | conftest             | Creating new page for test: test_verify_search_results
2025-03-17 15:36:33 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:36:33 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:36:44 | INFO     | FlightOptions        | Validating search parameters
2025-03-17 15:36:44 | INFO     | FlightOptions        | Validating URL: https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8
2025-03-17 15:36:44 | INFO     | FlightOptions        | Extracted from URL:
2025-03-17 15:36:44 | INFO     | FlightOptions        | departureFrom: KHI
2025-03-17 15:36:44 | INFO     | FlightOptions        | arrivalTo: IST
2025-03-17 15:36:44 | INFO     | FlightOptions        | departDate: 2025-04-26
2025-03-17 15:36:44 | INFO     | FlightOptions        | returnDate: 2025-05-16
2025-03-17 15:36:44 | INFO     | FlightOptions        | adults: 1
2025-03-17 15:36:44 | INFO     | FlightOptions        | children: 0
2025-03-17 15:36:44 | INFO     | FlightOptions        | infants: 0
2025-03-17 15:36:44 | INFO     | FlightOptions        | cabinType: Economy
2025-03-17 15:36:44 | INFO     | FlightOptions        | Validating from header
2025-03-17 15:36:45 | INFO     | FlightOptions        | Departure value: Karachi (KHI)
2025-03-17 15:36:45 | INFO     | FlightOptions        | Arrival value: İstanbul (IST)
2025-03-17 15:36:45 | INFO     | FlightOptions        | Clicked departure calendar button
2025-03-17 15:36:45 | INFO     | FlightOptions        | Departure date: 2025-04-26
2025-03-17 15:36:46 | INFO     | FlightOptions        | Clicked return calendar button
2025-03-17 15:36:47 | INFO     | FlightOptions        | Return date: 2025-05-16
2025-03-17 15:36:47 | INFO     | FlightOptions        | Clicked passenger dropdown
2025-03-17 15:36:47 | INFO     | FlightOptions        | Adults count: 1
2025-03-17 15:36:47 | INFO     | FlightOptions        | Children count: 0
2025-03-17 15:36:47 | INFO     | FlightOptions        | Infants count: 0
2025-03-17 15:36:47 | INFO     | FlightOptions        | Cabin type: Economy
2025-03-17 15:36:47 | INFO     | FlightOptions        | Extracted from Header: ['Karachi (KHI)', 'İstanbul (IST)', '2025-04-26', '2025-05-16', '1', '0', '0', 'Economy']
2025-03-17 15:36:47 | INFO     | FlightOptions        | Search parameters validated successfully
2025-03-17 15:36:47 | INFO     | test_flight_options  | search validated
2025-03-17 15:36:47 | INFO     | conftest             | Test PASSED: test_verify_search_results
2025-03-17 15:36:47 | INFO     | conftest             | Test completed: test_verify_search_results
2025-03-17 15:36:47 | INFO     | conftest             | Closing page
2025-03-17 15:36:47 | INFO     | conftest             | Closing browser
2025-03-17 15:36:47 | INFO     | conftest             | Launching browser
2025-03-17 15:36:48 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:36:48 | INFO     | conftest             | Creating new page for test: test_flight_data
2025-03-17 15:36:49 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:36:49 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:37:00 | INFO     | FlightOptions        | Collecting flight data
2025-03-17 15:37:00 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 15:37:10 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 15:37:10 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 15:37:12 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:37:14 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:37:16 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:37:18 | INFO     | test_flight_options  | 
Flight Data (Array):
2025-03-17 15:37:18 | INFO     | test_flight_options  | +---------------------------------+------------+-------------+------------+
| Carrier                         | Duration   | Price       |   Layovers |
+=================================+============+=============+============+
| Pegasus Airlines                | 5h 50m     | 121,949 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Turkish Airlines                | 6h 0m      | 206,233 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Pakistan International Airlines | 6h 0m      | 234,961 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Etihad Airways                  | 9h 55m     | 119,224 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Jazeera Airways                 | 11h 55m    | 128,927 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 25h 50m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 12h 20m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 30m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 55m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 5m     | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 45m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 10h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 14h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 15h 40m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 22h 5m     | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 27h 40m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 28h 30m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Saudia                          | 9h 50m     | 139,645 PKR |          1 |
+---------------------------------+------------+-------------+------------+
2025-03-17 15:37:18 | INFO     | conftest             | Test PASSED: test_flight_data
2025-03-17 15:37:18 | INFO     | conftest             | Test completed: test_flight_data
2025-03-17 15:37:18 | INFO     | conftest             | Closing page
2025-03-17 15:37:18 | INFO     | conftest             | Closing browser
2025-03-17 15:37:19 | INFO     | conftest             | Launching browser
2025-03-17 15:37:20 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:37:20 | INFO     | conftest             | Creating new page for test: test_flight_stops
2025-03-17 15:37:20 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:37:20 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:37:30 | INFO     | FlightOptions        | Checking direct flights
2025-03-17 15:37:30 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 15:37:40 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 15:37:40 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 15:37:40 | INFO     | FlightOptions        | Clicking checkbox: get_direct_stop_checkbox
2025-03-17 15:37:41 | INFO     | FlightOptions        | Clicked checkbox: get_direct_stop_checkbox
2025-03-17 15:37:41 | INFO     | FlightOptions        | Processing flight option: direct
2025-03-17 15:37:41 | INFO     | FlightOptions        | Number of stops for direct are: 
2025-03-17 15:37:43 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:37:43 | INFO     | FlightOptions        | 0

2025-03-17 15:37:45 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:37:45 | INFO     | FlightOptions        | 0

2025-03-17 15:37:47 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:37:47 | INFO     | FlightOptions        | 0

2025-03-17 15:37:52 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=3">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3) to be visible

2025-03-17 15:37:54 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:37:54 | INFO     | FlightOptions        | 0

2025-03-17 15:37:59 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=4">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4) to be visible

2025-03-17 15:38:01 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:38:01 | INFO     | FlightOptions        | 0

2025-03-17 15:38:06 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=5">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5) to be visible

2025-03-17 15:38:08 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:38:08 | INFO     | FlightOptions        | 0

2025-03-17 15:38:13 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=6">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6) to be visible

2025-03-17 15:38:15 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:38:15 | INFO     | FlightOptions        | 0

2025-03-17 15:38:20 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=7">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7) to be visible

2025-03-17 15:38:22 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:38:22 | INFO     | FlightOptions        | 0

2025-03-17 15:38:27 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=8">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8) to be visible

2025-03-17 15:38:29 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:38:29 | INFO     | FlightOptions        | 0

2025-03-17 15:38:34 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=9">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9) to be visible

2025-03-17 15:38:36 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:38:36 | INFO     | FlightOptions        | 0

2025-03-17 15:38:41 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=10">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10) to be visible

2025-03-17 15:38:43 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:38:43 | INFO     | FlightOptions        | 0

2025-03-17 15:38:48 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=11">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11) to be visible

2025-03-17 15:38:50 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:38:50 | INFO     | FlightOptions        | 0

2025-03-17 15:38:55 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=12">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12) to be visible

2025-03-17 15:38:57 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:38:57 | INFO     | FlightOptions        | 0

2025-03-17 15:39:02 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=13">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13) to be visible

2025-03-17 15:39:04 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:39:04 | INFO     | FlightOptions        | 0

2025-03-17 15:39:09 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=14">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14) to be visible

2025-03-17 15:39:11 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:39:11 | INFO     | FlightOptions        | 0

2025-03-17 15:39:16 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=15">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15) to be visible

2025-03-17 15:39:18 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:39:18 | INFO     | FlightOptions        | 0

2025-03-17 15:39:23 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=16">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16) to be visible

2025-03-17 15:39:25 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:39:25 | INFO     | FlightOptions        | 0

2025-03-17 15:39:30 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=17">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17) to be visible

2025-03-17 15:39:32 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:39:32 | INFO     | FlightOptions        | 0

2025-03-17 15:39:37 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=18">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18) to be visible

2025-03-17 15:39:39 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:39:39 | INFO     | FlightOptions        | 0

2025-03-17 15:39:44 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=19">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19) to be visible

2025-03-17 15:39:47 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:39:47 | INFO     | FlightOptions        | 0

2025-03-17 15:39:47 | INFO     | FlightOptions        | Direct flights check result: True
2025-03-17 15:39:47 | INFO     | conftest             | Test PASSED: test_flight_stops
2025-03-17 15:39:47 | INFO     | conftest             | Test completed: test_flight_stops
2025-03-17 15:39:47 | INFO     | conftest             | Closing page
2025-03-17 15:39:47 | INFO     | conftest             | Closing browser
2025-03-17 15:40:58 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:40:58 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:40:58 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:40:58 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:41:08 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:41:08 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:41:08 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:41:08 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:41:10 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:41:10 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:41:10 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:41:10 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:43:52 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:43:52 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:43:52 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:43:52 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:46:09 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:46:09 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:46:10 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:46:10 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:46:12 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:46:12 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:46:12 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:46:12 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:46:24 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:46:24 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:46:24 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:46:25 | INFO     | conftest             | Loading test parameters from package.json for test_flight_booking
2025-03-17 15:46:25 | INFO     | conftest             | Loaded 2 parameter sets from package.json
2025-03-17 15:46:25 | INFO     | conftest             | Parametrized test_flight_booking with 2 parameter sets
2025-03-17 15:46:25 | INFO     | conftest             | Creating screenshot directory: /Users/zaki.sabir/Downloads/agoda/Reports/Images/
2025-03-17 15:46:25 | INFO     | conftest             | Cleared 0 existing screenshots from directory
2025-03-17 15:46:25 | INFO     | conftest             | Creating search_url fixture
2025-03-17 15:46:25 | INFO     | conftest             | Launching browser
2025-03-17 15:46:26 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:46:26 | INFO     | conftest             | Creating new page for test: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:46:27 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:46:27 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 15:46:32 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 15:46:32 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 15:46:32 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 15:46:32 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 15:46:32 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 15:46:32 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 15:46:32 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 15:46:32 | INFO     | RoundTrip            | Selecting departure airport: LHE
2025-03-17 15:46:32 | INFO     | RoundTrip            | Setting and verifying Departure airport: LHE
2025-03-17 15:46:32 | INFO     | RoundTrip            | Departure airport set to: LHE
2025-03-17 15:46:33 | INFO     | RoundTrip            | Selecting airport from options: LHE
2025-03-17 15:46:33 | INFO     | RoundTrip            | Found 13 airport options
2025-03-17 15:46:33 | INFO     | RoundTrip            | Found matching airport: AirportAllama Iqbal International AirportLHE
2025-03-17 15:46:34 | INFO     | RoundTrip            | Selected Departure airport: AirportAllama Iqbal International AirportLHE (Code: LHE)
2025-03-17 15:46:34 | INFO     | RoundTrip            | Actual Departure airport: Lahore (LHE) (Code: LHE)
2025-03-17 15:46:34 | INFO     | RoundTrip            | Departure airport selected: LHE
2025-03-17 15:46:34 | INFO     | RoundTrip            | Selecting arrival airport: JFK
2025-03-17 15:46:34 | INFO     | RoundTrip            | Setting and verifying Arrival airport: JFK
2025-03-17 15:46:34 | INFO     | RoundTrip            | Setting arrival airport to: JFK
2025-03-17 15:46:34 | INFO     | RoundTrip            | Arrival airport set to: JFK
2025-03-17 15:46:35 | INFO     | RoundTrip            | Selecting airport from options: JFK
2025-03-17 15:46:36 | INFO     | RoundTrip            | Found 5 airport options
2025-03-17 15:46:36 | INFO     | RoundTrip            | Found matching airport: AirportJohn F. Kennedy International AirportJFK
2025-03-17 15:46:36 | INFO     | RoundTrip            | Selected Arrival airport: AirportJohn F. Kennedy International AirportJFK (Code: JFK)
2025-03-17 15:46:36 | INFO     | RoundTrip            | Actual Arrival airport: New York (NY) (JFK) (Code: JFK)
2025-03-17 15:46:36 | INFO     | RoundTrip            | Arrival airport selected: JFK
2025-03-17 15:46:36 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:46:36 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 15:46:36 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:46:46 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 15:46:47 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 15:46:47 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 15:46:47 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:46:47 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 15:46:47 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 15:46:47 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 15:46:47 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:46:47 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 15:46:47 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 15:46:47 | INFO     | RoundTrip            | Selecting passengers: Adults=2, Children=1, Infants=0, Cabin=Business
2025-03-17 15:46:47 | INFO     | RoundTrip            | Adjusting adult count to 2
2025-03-17 15:46:48 | INFO     | RoundTrip            | Current adults: 1, Target: 2
2025-03-17 15:46:48 | INFO     | RoundTrip            | Adjusting children count to 1
2025-03-17 15:46:48 | INFO     | RoundTrip            | Current childrens: 0, Target: 1
2025-03-17 15:46:48 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 15:46:48 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 15:46:48 | INFO     | RoundTrip            | Selecting cabin class: Business
2025-03-17 15:46:48 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 15:46:48 | INFO     | RoundTrip            | Clicking search button
2025-03-17 15:46:48 | INFO     | RoundTrip            | Search button clicked
2025-03-17 15:46:48 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 15:46:51 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 15:46:51 | INFO     | conftest             | Test PASSED: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:46:51 | INFO     | conftest             | Test completed: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:46:51 | INFO     | conftest             | Closing page
2025-03-17 15:46:51 | INFO     | conftest             | Closing browser
2025-03-17 15:46:51 | INFO     | conftest             | Launching browser
2025-03-17 15:46:52 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:46:52 | INFO     | conftest             | Creating new page for test: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:46:53 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:46:53 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 15:47:02 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 15:47:02 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 15:47:02 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 15:47:02 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 15:47:02 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 15:47:03 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 15:47:03 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 15:47:03 | INFO     | RoundTrip            | Selecting departure airport: KHI
2025-03-17 15:47:03 | INFO     | RoundTrip            | Setting and verifying Departure airport: KHI
2025-03-17 15:47:03 | INFO     | RoundTrip            | Departure airport set to: KHI
2025-03-17 15:47:04 | INFO     | RoundTrip            | Selecting airport from options: KHI
2025-03-17 15:47:05 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 15:47:05 | INFO     | RoundTrip            | Found matching airport: AirportJinnah International AirportKHI
2025-03-17 15:47:05 | INFO     | RoundTrip            | Selected Departure airport: AirportJinnah International AirportKHI (Code: KHI)
2025-03-17 15:47:05 | INFO     | RoundTrip            | Actual Departure airport: Karachi (KHI) (Code: KHI)
2025-03-17 15:47:05 | INFO     | RoundTrip            | Departure airport selected: KHI
2025-03-17 15:47:05 | INFO     | RoundTrip            | Selecting arrival airport: IST
2025-03-17 15:47:05 | INFO     | RoundTrip            | Setting and verifying Arrival airport: IST
2025-03-17 15:47:05 | INFO     | RoundTrip            | Setting arrival airport to: IST
2025-03-17 15:47:06 | INFO     | RoundTrip            | Arrival airport set to: IST
2025-03-17 15:47:07 | INFO     | RoundTrip            | Selecting airport from options: IST
2025-03-17 15:47:07 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 15:47:07 | INFO     | RoundTrip            | Found matching airport: AirportIstanbul AirportIST
2025-03-17 15:47:07 | INFO     | RoundTrip            | Selected Arrival airport: AirportIstanbul AirportIST (Code: IST)
2025-03-17 15:47:07 | INFO     | RoundTrip            | Actual Arrival airport: İstanbul (IST) (Code: IST)
2025-03-17 15:47:07 | INFO     | RoundTrip            | Arrival airport selected: IST
2025-03-17 15:47:07 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:47:07 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 15:47:07 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:47:17 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 15:47:18 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 15:47:18 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 15:47:18 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:47:18 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 15:47:18 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 15:47:18 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 15:47:18 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:47:18 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 15:47:18 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 15:47:18 | INFO     | RoundTrip            | Selecting passengers: Adults=1, Children=0, Infants=0, Cabin=Economy
2025-03-17 15:47:18 | INFO     | RoundTrip            | Adjusting adult count to 1
2025-03-17 15:47:18 | INFO     | RoundTrip            | Current adults: 1, Target: 1
2025-03-17 15:47:18 | INFO     | RoundTrip            | Adjusting children count to 0
2025-03-17 15:47:18 | INFO     | RoundTrip            | Current childrens: 0, Target: 0
2025-03-17 15:47:18 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 15:47:18 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 15:47:18 | INFO     | RoundTrip            | Selecting cabin class: Economy
2025-03-17 15:47:18 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 15:47:18 | INFO     | RoundTrip            | Clicking search button
2025-03-17 15:47:19 | INFO     | RoundTrip            | Search button clicked
2025-03-17 15:47:19 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 15:47:20 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 15:47:20 | INFO     | conftest             | Test PASSED: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:47:20 | INFO     | conftest             | Test completed: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:47:20 | INFO     | conftest             | Closing page
2025-03-17 15:47:20 | INFO     | conftest             | Closing browser
2025-03-17 15:47:21 | INFO     | conftest             | Launching browser
2025-03-17 15:47:22 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:47:22 | INFO     | conftest             | Creating new page for test: test_verify_search_results
2025-03-17 15:47:22 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:47:22 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:47:26 | INFO     | FlightOptions        | Validating search parameters
2025-03-17 15:47:26 | INFO     | FlightOptions        | Validating URL: https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8
2025-03-17 15:47:26 | INFO     | FlightOptions        | Extracted from URL:
2025-03-17 15:47:26 | INFO     | FlightOptions        | departureFrom: KHI
2025-03-17 15:47:26 | INFO     | FlightOptions        | arrivalTo: IST
2025-03-17 15:47:26 | INFO     | FlightOptions        | departDate: 2025-04-26
2025-03-17 15:47:26 | INFO     | FlightOptions        | returnDate: 2025-05-16
2025-03-17 15:47:26 | INFO     | FlightOptions        | adults: 1
2025-03-17 15:47:26 | INFO     | FlightOptions        | children: 0
2025-03-17 15:47:26 | INFO     | FlightOptions        | infants: 0
2025-03-17 15:47:26 | INFO     | FlightOptions        | cabinType: Economy
2025-03-17 15:47:26 | INFO     | FlightOptions        | Validating from header
2025-03-17 15:47:27 | INFO     | FlightOptions        | Departure value: Karachi (KHI)
2025-03-17 15:47:27 | INFO     | FlightOptions        | Arrival value: İstanbul (IST)
2025-03-17 15:47:28 | INFO     | FlightOptions        | Clicked departure calendar button
2025-03-17 15:47:29 | INFO     | FlightOptions        | Departure date: 2025-04-26
2025-03-17 15:47:29 | INFO     | FlightOptions        | Clicked return calendar button
2025-03-17 15:47:30 | INFO     | FlightOptions        | Return date: 2025-05-16
2025-03-17 15:47:31 | INFO     | FlightOptions        | Clicked passenger dropdown
2025-03-17 15:47:31 | INFO     | FlightOptions        | Adults count: 1
2025-03-17 15:47:31 | INFO     | FlightOptions        | Children count: 0
2025-03-17 15:47:31 | INFO     | FlightOptions        | Infants count: 0
2025-03-17 15:47:31 | INFO     | FlightOptions        | Cabin type: Economy
2025-03-17 15:47:31 | INFO     | FlightOptions        | Extracted from Header: ['Karachi (KHI)', 'İstanbul (IST)', '2025-04-26', '2025-05-16', '1', '0', '0', 'Economy']
2025-03-17 15:47:31 | INFO     | FlightOptions        | Search parameters validated successfully
2025-03-17 15:47:31 | INFO     | test_flight_options  | search validated
2025-03-17 15:47:31 | INFO     | conftest             | Test PASSED: test_verify_search_results
2025-03-17 15:47:31 | INFO     | conftest             | Test completed: test_verify_search_results
2025-03-17 15:47:31 | INFO     | conftest             | Closing page
2025-03-17 15:47:31 | INFO     | conftest             | Closing browser
2025-03-17 15:47:31 | INFO     | conftest             | Launching browser
2025-03-17 15:47:32 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:47:32 | INFO     | conftest             | Creating new page for test: test_flight_data
2025-03-17 15:47:33 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:47:33 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:47:38 | INFO     | FlightOptions        | Collecting flight data
2025-03-17 15:47:38 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 15:47:48 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 15:47:48 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 15:47:50 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:47:52 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:47:54 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:47:56 | INFO     | test_flight_options  | 
Flight Data (Array):
2025-03-17 15:47:56 | INFO     | test_flight_options  | +---------------------------------+------------+-------------+------------+
| Carrier                         | Duration   | Price       |   Layovers |
+=================================+============+=============+============+
| Pegasus Airlines                | 5h 50m     | 121,949 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Turkish Airlines                | 6h 0m      | 206,233 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Pakistan International Airlines | 6h 0m      | 234,961 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Etihad Airways                  | 9h 55m     | 119,224 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Jazeera Airways                 | 11h 55m    | 128,927 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 25h 50m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 12h 20m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 30m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 55m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 5m     | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 45m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 10h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 14h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 15h 40m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 22h 5m     | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 27h 40m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 28h 30m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Saudia                          | 9h 50m     | 139,645 PKR |          1 |
+---------------------------------+------------+-------------+------------+
2025-03-17 15:47:56 | INFO     | conftest             | Test PASSED: test_flight_data
2025-03-17 15:47:56 | INFO     | conftest             | Test completed: test_flight_data
2025-03-17 15:47:56 | INFO     | conftest             | Closing page
2025-03-17 15:47:56 | INFO     | conftest             | Closing browser
2025-03-17 15:47:56 | INFO     | conftest             | Launching browser
2025-03-17 15:47:57 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:47:57 | INFO     | conftest             | Creating new page for test: test_flight_stops
2025-03-17 15:47:58 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:47:58 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:48:03 | INFO     | FlightOptions        | Checking direct flights
2025-03-17 15:48:03 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 15:48:13 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 15:48:13 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 15:48:13 | INFO     | FlightOptions        | Clicking checkbox: get_direct_stop_checkbox
2025-03-17 15:48:14 | INFO     | FlightOptions        | Clicked checkbox: get_direct_stop_checkbox
2025-03-17 15:48:14 | INFO     | FlightOptions        | Processing flight option: direct
2025-03-17 15:48:14 | INFO     | FlightOptions        | Number of stops for direct are: 
2025-03-17 15:48:16 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:48:16 | INFO     | FlightOptions        | 0

2025-03-17 15:48:18 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:48:18 | INFO     | FlightOptions        | 0

2025-03-17 15:48:20 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:48:20 | INFO     | FlightOptions        | 0

2025-03-17 15:48:25 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=3">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3) to be visible

2025-03-17 15:48:27 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:48:27 | INFO     | FlightOptions        | 0

2025-03-17 15:48:32 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=4">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4) to be visible

2025-03-17 15:48:34 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:48:34 | INFO     | FlightOptions        | 0

2025-03-17 15:48:39 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=5">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5) to be visible

2025-03-17 15:48:41 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:48:41 | INFO     | FlightOptions        | 0

2025-03-17 15:48:46 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=6">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6) to be visible

2025-03-17 15:48:48 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:48:48 | INFO     | FlightOptions        | 0

2025-03-17 15:48:53 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=7">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7) to be visible

2025-03-17 15:48:55 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:48:55 | INFO     | FlightOptions        | 0

2025-03-17 15:49:00 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=8">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8) to be visible

2025-03-17 15:49:02 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:49:02 | INFO     | FlightOptions        | 0

2025-03-17 15:49:07 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=9">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9) to be visible

2025-03-17 15:49:09 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:49:09 | INFO     | FlightOptions        | 0

2025-03-17 15:49:14 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=10">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10) to be visible

2025-03-17 15:49:16 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:49:16 | INFO     | FlightOptions        | 0

2025-03-17 15:49:21 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=11">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11) to be visible

2025-03-17 15:49:23 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:49:23 | INFO     | FlightOptions        | 0

2025-03-17 15:49:28 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=12">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12) to be visible

2025-03-17 15:49:30 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:49:30 | INFO     | FlightOptions        | 0

2025-03-17 15:49:35 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=13">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13) to be visible

2025-03-17 15:49:37 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:49:37 | INFO     | FlightOptions        | 0

2025-03-17 15:49:39 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:49:39 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:49:39 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:49:39 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:49:42 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=14">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14) to be visible

2025-03-17 15:49:44 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:49:44 | INFO     | FlightOptions        | 0

2025-03-17 15:49:45 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:49:45 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:49:45 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:49:45 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:49:49 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=15">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15) to be visible

2025-03-17 15:49:51 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:49:51 | INFO     | FlightOptions        | 0

2025-03-17 15:49:56 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=16">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16) to be visible

2025-03-17 15:49:58 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:49:58 | INFO     | FlightOptions        | 0

2025-03-17 15:50:03 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=17">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17) to be visible

2025-03-17 15:50:05 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:50:05 | INFO     | FlightOptions        | 0

2025-03-17 15:50:10 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=18">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18) to be visible

2025-03-17 15:50:12 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:50:12 | INFO     | FlightOptions        | 0

2025-03-17 15:50:17 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[@data-testid='web-refresh-flights-card'] >> nth=19">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19) to be visible

2025-03-17 15:50:19 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:50:19 | INFO     | FlightOptions        | 0

2025-03-17 15:50:19 | INFO     | FlightOptions        | Direct flights check result: True
2025-03-17 15:50:19 | INFO     | conftest             | Test PASSED: test_flight_stops
2025-03-17 15:50:19 | INFO     | conftest             | Test completed: test_flight_stops
2025-03-17 15:50:19 | INFO     | conftest             | Closing page
2025-03-17 15:50:20 | INFO     | conftest             | Closing browser
2025-03-17 15:53:00 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:53:00 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:53:00 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:53:00 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:53:13 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:53:13 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:53:13 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:53:13 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:55:47 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:55:47 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:55:47 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:55:47 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:55:51 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:55:51 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:55:51 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:55:51 | INFO     | conftest             | Loading test parameters from package.json for test_flight_booking
2025-03-17 15:55:51 | INFO     | conftest             | Loaded 2 parameter sets from package.json
2025-03-17 15:55:51 | INFO     | conftest             | Parametrized test_flight_booking with 2 parameter sets
2025-03-17 15:55:51 | INFO     | conftest             | Creating screenshot directory: /Users/zaki.sabir/Downloads/agoda/Reports/Images/
2025-03-17 15:55:51 | INFO     | conftest             | Cleared 0 existing screenshots from directory
2025-03-17 15:55:51 | INFO     | conftest             | Creating search_url fixture
2025-03-17 15:55:51 | INFO     | conftest             | Launching browser
2025-03-17 15:55:52 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:55:52 | INFO     | conftest             | Creating new page for test: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:55:53 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:55:53 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 15:56:03 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 15:56:04 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 15:56:04 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 15:56:04 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 15:56:04 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 15:56:04 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 15:56:06 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 15:56:06 | INFO     | RoundTrip            | Selecting departure airport: LHE
2025-03-17 15:56:06 | INFO     | RoundTrip            | Setting and verifying Departure airport: LHE
2025-03-17 15:56:07 | INFO     | RoundTrip            | Departure airport set to: LHE
2025-03-17 15:56:08 | INFO     | RoundTrip            | Selecting airport from options: LHE
2025-03-17 15:56:08 | INFO     | RoundTrip            | Found 13 airport options
2025-03-17 15:56:08 | INFO     | RoundTrip            | Found matching airport: AirportAllama Iqbal International AirportLHE
2025-03-17 15:56:08 | INFO     | RoundTrip            | Selected Departure airport: AirportAllama Iqbal International AirportLHE (Code: LHE)
2025-03-17 15:56:08 | INFO     | RoundTrip            | Actual Departure airport: Lahore (LHE) (Code: LHE)
2025-03-17 15:56:08 | INFO     | RoundTrip            | Departure airport selected: LHE
2025-03-17 15:56:08 | INFO     | RoundTrip            | Selecting arrival airport: JFK
2025-03-17 15:56:08 | INFO     | RoundTrip            | Setting and verifying Arrival airport: JFK
2025-03-17 15:56:08 | INFO     | RoundTrip            | Setting arrival airport to: JFK
2025-03-17 15:56:08 | INFO     | RoundTrip            | Arrival airport set to: JFK
2025-03-17 15:56:09 | INFO     | RoundTrip            | Selecting airport from options: JFK
2025-03-17 15:56:09 | INFO     | RoundTrip            | Found 5 airport options
2025-03-17 15:56:09 | INFO     | RoundTrip            | Found matching airport: AirportJohn F. Kennedy International AirportJFK
2025-03-17 15:56:09 | INFO     | RoundTrip            | Selected Arrival airport: AirportJohn F. Kennedy International AirportJFK (Code: JFK)
2025-03-17 15:56:10 | INFO     | RoundTrip            | Actual Arrival airport: New York (NY) (JFK) (Code: JFK)
2025-03-17 15:56:10 | INFO     | RoundTrip            | Arrival airport selected: JFK
2025-03-17 15:56:10 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:56:10 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 15:56:10 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:56:20 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 15:56:21 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 15:56:21 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 15:56:21 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:56:21 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 15:56:21 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 15:56:21 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 15:56:21 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:56:21 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 15:56:21 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 15:56:21 | INFO     | RoundTrip            | Selecting passengers: Adults=2, Children=1, Infants=0, Cabin=Business
2025-03-17 15:56:21 | INFO     | RoundTrip            | Adjusting adult count to 2
2025-03-17 15:56:21 | INFO     | RoundTrip            | Current adults: 1, Target: 2
2025-03-17 15:56:21 | INFO     | RoundTrip            | Adjusting children count to 1
2025-03-17 15:56:21 | INFO     | RoundTrip            | Current childrens: 0, Target: 1
2025-03-17 15:56:21 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 15:56:21 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 15:56:21 | INFO     | RoundTrip            | Selecting cabin class: Business
2025-03-17 15:56:21 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 15:56:21 | INFO     | RoundTrip            | Clicking search button
2025-03-17 15:56:22 | INFO     | RoundTrip            | Search button clicked
2025-03-17 15:56:22 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 15:56:24 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 15:56:24 | INFO     | conftest             | Test PASSED: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:56:24 | INFO     | conftest             | Test completed: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 15:56:24 | INFO     | conftest             | Closing page
2025-03-17 15:56:24 | INFO     | conftest             | Closing browser
2025-03-17 15:56:24 | INFO     | conftest             | Launching browser
2025-03-17 15:56:25 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:56:25 | INFO     | conftest             | Creating new page for test: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:56:26 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:56:26 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 15:56:36 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 15:56:37 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 15:56:37 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 15:56:37 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 15:56:37 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 15:56:37 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 15:56:38 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 15:56:38 | INFO     | RoundTrip            | Selecting departure airport: KHI
2025-03-17 15:56:38 | INFO     | RoundTrip            | Setting and verifying Departure airport: KHI
2025-03-17 15:56:38 | INFO     | RoundTrip            | Departure airport set to: KHI
2025-03-17 15:56:39 | INFO     | RoundTrip            | Selecting airport from options: KHI
2025-03-17 15:56:39 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 15:56:39 | INFO     | RoundTrip            | Found matching airport: AirportJinnah International AirportKHI
2025-03-17 15:56:40 | INFO     | RoundTrip            | Selected Departure airport: AirportJinnah International AirportKHI (Code: KHI)
2025-03-17 15:56:40 | INFO     | RoundTrip            | Actual Departure airport: Karachi (KHI) (Code: KHI)
2025-03-17 15:56:40 | INFO     | RoundTrip            | Departure airport selected: KHI
2025-03-17 15:56:40 | INFO     | RoundTrip            | Selecting arrival airport: IST
2025-03-17 15:56:40 | INFO     | RoundTrip            | Setting and verifying Arrival airport: IST
2025-03-17 15:56:40 | INFO     | RoundTrip            | Setting arrival airport to: IST
2025-03-17 15:56:40 | INFO     | RoundTrip            | Arrival airport set to: IST
2025-03-17 15:56:41 | INFO     | RoundTrip            | Selecting airport from options: IST
2025-03-17 15:56:41 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 15:56:41 | INFO     | RoundTrip            | Found matching airport: AirportIstanbul AirportIST
2025-03-17 15:56:41 | INFO     | RoundTrip            | Selected Arrival airport: AirportIstanbul AirportIST (Code: IST)
2025-03-17 15:56:41 | INFO     | RoundTrip            | Actual Arrival airport: İstanbul (IST) (Code: IST)
2025-03-17 15:56:41 | INFO     | RoundTrip            | Arrival airport selected: IST
2025-03-17 15:56:41 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:56:41 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 15:56:41 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:56:51 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 15:56:52 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 15:56:52 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 15:56:52 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 15:56:52 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 15:56:52 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 15:56:52 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 15:56:52 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 15:56:52 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 15:56:52 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 15:56:52 | INFO     | RoundTrip            | Selecting passengers: Adults=1, Children=0, Infants=0, Cabin=Economy
2025-03-17 15:56:52 | INFO     | RoundTrip            | Adjusting adult count to 1
2025-03-17 15:56:52 | INFO     | RoundTrip            | Current adults: 1, Target: 1
2025-03-17 15:56:52 | INFO     | RoundTrip            | Adjusting children count to 0
2025-03-17 15:56:52 | INFO     | RoundTrip            | Current childrens: 0, Target: 0
2025-03-17 15:56:52 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 15:56:52 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 15:56:52 | INFO     | RoundTrip            | Selecting cabin class: Economy
2025-03-17 15:56:52 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 15:56:52 | INFO     | RoundTrip            | Clicking search button
2025-03-17 15:56:53 | INFO     | RoundTrip            | Search button clicked
2025-03-17 15:56:53 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 15:56:55 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 15:56:55 | INFO     | conftest             | Test PASSED: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:56:55 | INFO     | conftest             | Test completed: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 15:56:55 | INFO     | conftest             | Closing page
2025-03-17 15:56:55 | INFO     | conftest             | Closing browser
2025-03-17 15:56:55 | INFO     | conftest             | Launching browser
2025-03-17 15:56:56 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:56:56 | INFO     | conftest             | Creating new page for test: test_verify_search_results
2025-03-17 15:56:57 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:56:57 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:57:04 | INFO     | FlightOptions        | Validating search parameters
2025-03-17 15:57:04 | INFO     | FlightOptions        | Validating URL: https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8
2025-03-17 15:57:04 | INFO     | FlightOptions        | Extracted from URL:
2025-03-17 15:57:04 | INFO     | FlightOptions        | departureFrom: KHI
2025-03-17 15:57:04 | INFO     | FlightOptions        | arrivalTo: IST
2025-03-17 15:57:04 | INFO     | FlightOptions        | departDate: 2025-04-26
2025-03-17 15:57:04 | INFO     | FlightOptions        | returnDate: 2025-05-16
2025-03-17 15:57:04 | INFO     | FlightOptions        | adults: 1
2025-03-17 15:57:04 | INFO     | FlightOptions        | children: 0
2025-03-17 15:57:04 | INFO     | FlightOptions        | infants: 0
2025-03-17 15:57:04 | INFO     | FlightOptions        | cabinType: Economy
2025-03-17 15:57:04 | INFO     | FlightOptions        | Validating from header
2025-03-17 15:57:06 | INFO     | FlightOptions        | Departure value: Karachi (KHI)
2025-03-17 15:57:06 | INFO     | FlightOptions        | Arrival value: İstanbul (IST)
2025-03-17 15:57:06 | INFO     | FlightOptions        | Clicked departure calendar button
2025-03-17 15:57:06 | INFO     | FlightOptions        | Departure date: 2025-04-26
2025-03-17 15:57:07 | INFO     | FlightOptions        | Clicked return calendar button
2025-03-17 15:57:08 | INFO     | FlightOptions        | Return date: 2025-05-16
2025-03-17 15:57:08 | INFO     | FlightOptions        | Clicked passenger dropdown
2025-03-17 15:57:08 | INFO     | FlightOptions        | Adults count: 1
2025-03-17 15:57:09 | INFO     | FlightOptions        | Children count: 0
2025-03-17 15:57:09 | INFO     | FlightOptions        | Infants count: 0
2025-03-17 15:57:09 | INFO     | FlightOptions        | Cabin type: Economy
2025-03-17 15:57:09 | INFO     | FlightOptions        | Extracted from Header: ['Karachi (KHI)', 'İstanbul (IST)', '2025-04-26', '2025-05-16', '1', '0', '0', 'Economy']
2025-03-17 15:57:09 | INFO     | FlightOptions        | Search parameters validated successfully
2025-03-17 15:57:09 | INFO     | test_flight_options  | search validated
2025-03-17 15:57:09 | INFO     | conftest             | Test PASSED: test_verify_search_results
2025-03-17 15:57:09 | INFO     | conftest             | Test completed: test_verify_search_results
2025-03-17 15:57:09 | INFO     | conftest             | Closing page
2025-03-17 15:57:09 | INFO     | conftest             | Closing browser
2025-03-17 15:57:09 | INFO     | conftest             | Launching browser
2025-03-17 15:57:10 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:57:10 | INFO     | conftest             | Creating new page for test: test_flight_data
2025-03-17 15:57:11 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:57:11 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:57:18 | INFO     | FlightOptions        | Collecting flight data
2025-03-17 15:57:18 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 15:57:28 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 15:57:28 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 15:57:30 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:57:32 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:57:34 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:57:34 | INFO     | test_flight_options  | 
Flight Data (Array):
2025-03-17 15:57:34 | INFO     | test_flight_options  | +---------------------------------+------------+-------------+------------+
| Carrier                         | Duration   | Price       |   Layovers |
+=================================+============+=============+============+
| Pegasus Airlines                | 5h 50m     | 121,949 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Turkish Airlines                | 6h 0m      | 206,233 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Pakistan International Airlines | 6h 0m      | 234,961 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Etihad Airways                  | 9h 55m     | 119,224 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Jazeera Airways                 | 11h 55m    | 128,927 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 25h 50m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 12h 20m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 30m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 55m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 5m     | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 45m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 10h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 14h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 15h 40m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 22h 5m     | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 27h 40m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 28h 30m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Saudia                          | 9h 50m     | 139,645 PKR |          1 |
+---------------------------------+------------+-------------+------------+
2025-03-17 15:57:34 | INFO     | conftest             | Test PASSED: test_flight_data
2025-03-17 15:57:34 | INFO     | conftest             | Test completed: test_flight_data
2025-03-17 15:57:34 | INFO     | conftest             | Closing page
2025-03-17 15:57:34 | INFO     | conftest             | Closing browser
2025-03-17 15:57:35 | INFO     | conftest             | Launching browser
2025-03-17 15:57:36 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 15:57:36 | INFO     | conftest             | Creating new page for test: test_flight_stops
2025-03-17 15:57:37 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 15:57:37 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 15:57:43 | INFO     | FlightOptions        | Checking direct flights
2025-03-17 15:57:43 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 15:57:53 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 15:57:53 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 15:57:53 | INFO     | FlightOptions        | Clicking checkbox: get_direct_stop_checkbox
2025-03-17 15:57:54 | INFO     | FlightOptions        | Clicked checkbox: get_direct_stop_checkbox
2025-03-17 15:57:54 | INFO     | FlightOptions        | Processing flight option: direct
2025-03-17 15:57:54 | INFO     | FlightOptions        | Number of stops for direct are: 
2025-03-17 15:57:56 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:57:56 | INFO     | FlightOptions        | 0

2025-03-17 15:57:58 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:57:58 | INFO     | FlightOptions        | 0

2025-03-17 15:58:00 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:00 | INFO     | FlightOptions        | 0

2025-03-17 15:58:02 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(3).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:02 | INFO     | FlightOptions        | 0

2025-03-17 15:58:04 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(4).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:04 | INFO     | FlightOptions        | 0

2025-03-17 15:58:06 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(5).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:06 | INFO     | FlightOptions        | 0

2025-03-17 15:58:08 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(6).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:08 | INFO     | FlightOptions        | 0

2025-03-17 15:58:10 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(7).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:10 | INFO     | FlightOptions        | 0

2025-03-17 15:58:12 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(8).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:12 | INFO     | FlightOptions        | 0

2025-03-17 15:58:14 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(9).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:14 | INFO     | FlightOptions        | 0

2025-03-17 15:58:16 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(10).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:16 | INFO     | FlightOptions        | 0

2025-03-17 15:58:18 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(11).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:18 | INFO     | FlightOptions        | 0

2025-03-17 15:58:20 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(12).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:20 | INFO     | FlightOptions        | 0

2025-03-17 15:58:22 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(13).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:22 | INFO     | FlightOptions        | 0

2025-03-17 15:58:24 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(14).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:24 | INFO     | FlightOptions        | 0

2025-03-17 15:58:26 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(15).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:26 | INFO     | FlightOptions        | 0

2025-03-17 15:58:28 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(16).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:28 | INFO     | FlightOptions        | 0

2025-03-17 15:58:30 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(17).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:30 | INFO     | FlightOptions        | 0

2025-03-17 15:58:32 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(18).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:32 | INFO     | FlightOptions        | 0

2025-03-17 15:58:33 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 15:58:33 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 15:58:33 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 15:58:33 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 15:58:34 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='web-refresh-flights-card']").nth(19).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 15:58:34 | INFO     | FlightOptions        | 0

2025-03-17 15:58:34 | INFO     | FlightOptions        | Direct flights check result: True
2025-03-17 15:58:34 | INFO     | conftest             | Test PASSED: test_flight_stops
2025-03-17 15:58:34 | INFO     | conftest             | Test completed: test_flight_stops
2025-03-17 15:58:34 | INFO     | conftest             | Closing page
2025-03-17 15:58:35 | INFO     | conftest             | Closing browser
2025-03-17 16:11:46 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:11:46 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:11:46 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:11:46 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:11:47 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:11:47 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:11:47 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:11:47 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:11:48 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:11:48 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:11:48 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:11:48 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:11:52 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:11:52 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:11:52 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:11:52 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:11:54 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:11:54 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:11:54 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:11:54 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:11:56 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:11:56 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:11:56 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:11:56 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:12:02 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:12:02 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:12:02 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:12:02 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:12:08 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:12:08 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:12:08 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:12:08 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:12:11 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:12:11 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:12:11 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:12:11 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:12:53 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:12:53 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:12:53 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:12:54 | INFO     | conftest             | Loading test parameters from package.json for test_flight_booking
2025-03-17 16:12:54 | INFO     | conftest             | Loaded 2 parameter sets from package.json
2025-03-17 16:12:54 | INFO     | conftest             | Parametrized test_flight_booking with 2 parameter sets
2025-03-17 16:12:54 | INFO     | conftest             | Creating screenshot directory: /Users/zaki.sabir/Downloads/agoda/Reports/Images/
2025-03-17 16:12:54 | INFO     | conftest             | Cleared 0 existing screenshots from directory
2025-03-17 16:12:54 | INFO     | conftest             | Creating search_url fixture
2025-03-17 16:12:54 | INFO     | conftest             | Launching browser
2025-03-17 16:12:55 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:12:55 | INFO     | conftest             | Creating new page for test: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 16:12:55 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:12:55 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 16:13:06 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 16:13:07 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 16:13:07 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 16:13:07 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 16:13:07 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 16:13:07 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 16:13:07 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 16:13:07 | INFO     | RoundTrip            | Selecting departure airport: LHE
2025-03-17 16:13:07 | INFO     | RoundTrip            | Setting and verifying Departure airport: LHE
2025-03-17 16:13:07 | INFO     | RoundTrip            | Departure airport set to: LHE
2025-03-17 16:13:08 | INFO     | RoundTrip            | Selecting airport from options: LHE
2025-03-17 16:13:09 | INFO     | RoundTrip            | Found 13 airport options
2025-03-17 16:13:09 | INFO     | RoundTrip            | Found matching airport: AirportAllama Iqbal International AirportLHE
2025-03-17 16:13:09 | INFO     | RoundTrip            | Selected Departure airport: AirportAllama Iqbal International AirportLHE (Code: LHE)
2025-03-17 16:13:09 | INFO     | RoundTrip            | Actual Departure airport: Lahore (LHE) (Code: LHE)
2025-03-17 16:13:09 | INFO     | RoundTrip            | Departure airport selected: LHE
2025-03-17 16:13:09 | INFO     | RoundTrip            | Selecting arrival airport: JFK
2025-03-17 16:13:09 | INFO     | RoundTrip            | Setting and verifying Arrival airport: JFK
2025-03-17 16:13:09 | INFO     | RoundTrip            | Setting arrival airport to: JFK
2025-03-17 16:13:09 | INFO     | RoundTrip            | Arrival airport set to: JFK
2025-03-17 16:13:10 | INFO     | RoundTrip            | Selecting airport from options: JFK
2025-03-17 16:13:10 | INFO     | RoundTrip            | Found 5 airport options
2025-03-17 16:13:10 | INFO     | RoundTrip            | Found matching airport: AirportJohn F. Kennedy International AirportJFK
2025-03-17 16:13:11 | INFO     | RoundTrip            | Selected Arrival airport: AirportJohn F. Kennedy International AirportJFK (Code: JFK)
2025-03-17 16:13:11 | INFO     | RoundTrip            | Actual Arrival airport: New York (NY) (JFK) (Code: JFK)
2025-03-17 16:13:11 | INFO     | RoundTrip            | Arrival airport selected: JFK
2025-03-17 16:13:11 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 16:13:11 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 16:13:11 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 16:13:21 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 16:13:22 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 16:13:22 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 16:13:22 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 16:13:22 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 16:13:22 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 16:13:22 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 16:13:22 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 16:13:22 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 16:13:22 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 16:13:22 | INFO     | RoundTrip            | Selecting passengers: Adults=2, Children=1, Infants=0, Cabin=Business
2025-03-17 16:13:22 | INFO     | RoundTrip            | Adjusting adult count to 2
2025-03-17 16:13:22 | INFO     | RoundTrip            | Current adults: 1, Target: 2
2025-03-17 16:13:22 | INFO     | RoundTrip            | Adjusting children count to 1
2025-03-17 16:13:22 | INFO     | RoundTrip            | Current childrens: 0, Target: 1
2025-03-17 16:13:22 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 16:13:22 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 16:13:22 | INFO     | RoundTrip            | Selecting cabin class: Business
2025-03-17 16:13:22 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 16:13:22 | INFO     | RoundTrip            | Clicking search button
2025-03-17 16:13:23 | INFO     | RoundTrip            | Search button clicked
2025-03-17 16:13:23 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 16:13:25 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 16:13:25 | INFO     | conftest             | Test PASSED: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 16:13:25 | INFO     | conftest             | Test completed: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 16:13:25 | INFO     | conftest             | Closing page
2025-03-17 16:13:25 | INFO     | conftest             | Closing browser
2025-03-17 16:13:25 | INFO     | conftest             | Launching browser
2025-03-17 16:13:26 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:13:26 | INFO     | conftest             | Creating new page for test: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 16:13:27 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:13:27 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 16:13:40 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 16:13:40 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 16:13:40 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 16:13:41 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 16:13:41 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 16:13:41 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 16:13:41 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 16:13:41 | INFO     | RoundTrip            | Selecting departure airport: KHI
2025-03-17 16:13:41 | INFO     | RoundTrip            | Setting and verifying Departure airport: KHI
2025-03-17 16:13:42 | INFO     | RoundTrip            | Departure airport set to: KHI
2025-03-17 16:13:43 | INFO     | RoundTrip            | Selecting airport from options: KHI
2025-03-17 16:13:43 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 16:13:43 | INFO     | RoundTrip            | Found matching airport: AirportJinnah International AirportKHI
2025-03-17 16:13:43 | INFO     | RoundTrip            | Selected Departure airport: AirportJinnah International AirportKHI (Code: KHI)
2025-03-17 16:13:43 | INFO     | RoundTrip            | Actual Departure airport: Karachi (KHI) (Code: KHI)
2025-03-17 16:13:43 | INFO     | RoundTrip            | Departure airport selected: KHI
2025-03-17 16:13:43 | INFO     | RoundTrip            | Selecting arrival airport: IST
2025-03-17 16:13:43 | INFO     | RoundTrip            | Setting and verifying Arrival airport: IST
2025-03-17 16:13:43 | INFO     | RoundTrip            | Setting arrival airport to: IST
2025-03-17 16:13:43 | INFO     | RoundTrip            | Arrival airport set to: IST
2025-03-17 16:13:44 | INFO     | RoundTrip            | Selecting airport from options: IST
2025-03-17 16:13:44 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 16:13:44 | INFO     | RoundTrip            | Found matching airport: AirportIstanbul AirportIST
2025-03-17 16:13:45 | INFO     | RoundTrip            | Selected Arrival airport: AirportIstanbul AirportIST (Code: IST)
2025-03-17 16:13:45 | INFO     | RoundTrip            | Actual Arrival airport: İstanbul (IST) (Code: IST)
2025-03-17 16:13:45 | INFO     | RoundTrip            | Arrival airport selected: IST
2025-03-17 16:13:45 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 16:13:45 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 16:13:45 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 16:13:55 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 16:13:56 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 16:13:56 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 16:13:56 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 16:13:56 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 16:13:56 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 16:13:56 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 16:13:56 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 16:13:56 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 16:13:56 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 16:13:56 | INFO     | RoundTrip            | Selecting passengers: Adults=1, Children=0, Infants=0, Cabin=Economy
2025-03-17 16:13:56 | INFO     | RoundTrip            | Adjusting adult count to 1
2025-03-17 16:13:56 | INFO     | RoundTrip            | Current adults: 1, Target: 1
2025-03-17 16:13:56 | INFO     | RoundTrip            | Adjusting children count to 0
2025-03-17 16:13:56 | INFO     | RoundTrip            | Current childrens: 0, Target: 0
2025-03-17 16:13:56 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 16:13:56 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 16:13:56 | INFO     | RoundTrip            | Selecting cabin class: Economy
2025-03-17 16:13:56 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 16:13:56 | INFO     | RoundTrip            | Clicking search button
2025-03-17 16:13:57 | INFO     | RoundTrip            | Search button clicked
2025-03-17 16:13:57 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 16:13:59 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 16:13:59 | INFO     | conftest             | Test PASSED: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 16:13:59 | INFO     | conftest             | Test completed: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 16:13:59 | INFO     | conftest             | Closing page
2025-03-17 16:13:59 | INFO     | conftest             | Closing browser
2025-03-17 16:14:00 | INFO     | conftest             | Launching browser
2025-03-17 16:14:01 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:14:01 | INFO     | conftest             | Creating new page for test: test_verify_search_results
2025-03-17 16:14:02 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:14:02 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 16:14:09 | INFO     | FlightOptions        | Validating search parameters
2025-03-17 16:14:09 | INFO     | FlightOptions        | Validating URL: https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8
2025-03-17 16:14:09 | INFO     | FlightOptions        | Extracted from URL:
2025-03-17 16:14:09 | INFO     | FlightOptions        | departureFrom: KHI
2025-03-17 16:14:09 | INFO     | FlightOptions        | arrivalTo: IST
2025-03-17 16:14:09 | INFO     | FlightOptions        | departDate: 2025-04-26
2025-03-17 16:14:09 | INFO     | FlightOptions        | returnDate: 2025-05-16
2025-03-17 16:14:09 | INFO     | FlightOptions        | adults: 1
2025-03-17 16:14:09 | INFO     | FlightOptions        | children: 0
2025-03-17 16:14:09 | INFO     | FlightOptions        | infants: 0
2025-03-17 16:14:09 | INFO     | FlightOptions        | cabinType: Economy
2025-03-17 16:14:09 | INFO     | FlightOptions        | Validating from header
2025-03-17 16:14:11 | INFO     | FlightOptions        | Departure value: Karachi (KHI)
2025-03-17 16:14:11 | INFO     | FlightOptions        | Arrival value: İstanbul (IST)
2025-03-17 16:14:11 | INFO     | FlightOptions        | Clicked departure calendar button
2025-03-17 16:14:12 | INFO     | FlightOptions        | Departure date: 2025-04-26
2025-03-17 16:14:12 | INFO     | FlightOptions        | Clicked return calendar button
2025-03-17 16:14:13 | INFO     | FlightOptions        | Return date: 2025-05-16
2025-03-17 16:14:13 | INFO     | FlightOptions        | Clicked passenger dropdown
2025-03-17 16:14:13 | INFO     | FlightOptions        | Adults count: 1
2025-03-17 16:14:13 | INFO     | FlightOptions        | Children count: 0
2025-03-17 16:14:13 | INFO     | FlightOptions        | Infants count: 0
2025-03-17 16:14:13 | INFO     | FlightOptions        | Cabin type: Economy
2025-03-17 16:14:13 | INFO     | FlightOptions        | Extracted from Header: ['Karachi (KHI)', 'İstanbul (IST)', '2025-04-26', '2025-05-16', '1', '0', '0', 'Economy']
2025-03-17 16:14:13 | INFO     | FlightOptions        | Search parameters validated successfully
2025-03-17 16:14:13 | INFO     | test_flight_options  | search validated
2025-03-17 16:14:13 | INFO     | conftest             | Test PASSED: test_verify_search_results
2025-03-17 16:14:13 | INFO     | conftest             | Test completed: test_verify_search_results
2025-03-17 16:14:13 | INFO     | conftest             | Closing page
2025-03-17 16:14:13 | INFO     | conftest             | Closing browser
2025-03-17 16:14:14 | INFO     | conftest             | Launching browser
2025-03-17 16:14:15 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:14:15 | INFO     | conftest             | Creating new page for test: test_flight_data
2025-03-17 16:14:15 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:14:15 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 16:14:22 | INFO     | FlightOptions        | Collecting flight data
2025-03-17 16:14:22 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 16:14:32 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 16:14:32 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 16:14:34 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:14:37 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:14:39 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:14:40 | INFO     | test_flight_options  | 
Flight Data (Array):
2025-03-17 16:14:40 | INFO     | test_flight_options  | +---------------------------------+------------+-------------+------------+
| Carrier                         | Duration   | Price       |   Layovers |
+=================================+============+=============+============+
| Pegasus Airlines                | 5h 50m     | 121,949 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Turkish Airlines                | 6h 0m      | 206,233 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Pakistan International Airlines | 6h 0m      | 234,961 PKR |          0 |
+---------------------------------+------------+-------------+------------+
| Etihad Airways                  | 9h 55m     | 119,224 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Jazeera Airways                 | 11h 55m    | 128,927 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 25h 50m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Air Arabia                      | 12h 20m    | 115,495 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 30m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 55m    | 132,917 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 5m     | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 10h 20m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 16h 45m    | 134,454 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 10h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 14h 30m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Flydubai                        | 15h 40m    | 135,335 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 22h 5m     | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 27h 40m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Qatar Airways                   | 28h 30m    | 135,201 PKR |          1 |
+---------------------------------+------------+-------------+------------+
| Saudia                          | 9h 50m     | 139,645 PKR |          1 |
+---------------------------------+------------+-------------+------------+
2025-03-17 16:14:40 | INFO     | conftest             | Test PASSED: test_flight_data
2025-03-17 16:14:40 | INFO     | conftest             | Test completed: test_flight_data
2025-03-17 16:14:40 | INFO     | conftest             | Closing page
2025-03-17 16:14:41 | INFO     | conftest             | Closing browser
2025-03-17 16:14:41 | INFO     | conftest             | Launching browser
2025-03-17 16:14:42 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:14:42 | INFO     | conftest             | Creating new page for test: test_flight_stops
2025-03-17 16:14:43 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:14:43 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 16:14:50 | INFO     | FlightOptions        | Checking direct flights
2025-03-17 16:14:50 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 16:15:00 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 16:15:00 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 16:15:00 | INFO     | FlightOptions        | Clicking checkbox: get_direct_stop_checkbox
2025-03-17 16:15:01 | INFO     | FlightOptions        | Clicked checkbox: get_direct_stop_checkbox
2025-03-17 16:15:01 | INFO     | FlightOptions        | Processing flight option: direct
2025-03-17 16:15:01 | INFO     | FlightOptions        | Number of stops for direct are: 
2025-03-17 16:15:03 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:15:03 | INFO     | FlightOptions        | 0

2025-03-17 16:15:05 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:15:05 | INFO     | FlightOptions        | 0

2025-03-17 16:15:10 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=2">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(2) to be visible

2025-03-17 16:15:12 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:15:12 | INFO     | FlightOptions        | 0

2025-03-17 16:15:12 | INFO     | FlightOptions        | Direct flights check result: True
2025-03-17 16:15:12 | INFO     | conftest             | Test PASSED: test_flight_stops
2025-03-17 16:15:12 | INFO     | conftest             | Test completed: test_flight_stops
2025-03-17 16:15:12 | INFO     | conftest             | Closing page
2025-03-17 16:15:12 | INFO     | conftest             | Closing browser
2025-03-17 16:22:16 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:22:16 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:22:16 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:22:16 | INFO     | conftest             | Loading test parameters from package.json for test_flight_booking
2025-03-17 16:22:16 | INFO     | conftest             | Loaded 2 parameter sets from package.json
2025-03-17 16:22:16 | INFO     | conftest             | Parametrized test_flight_booking with 2 parameter sets
2025-03-17 16:22:16 | INFO     | conftest             | Creating screenshot directory: /Users/zaki.sabir/Downloads/agoda/Reports/Images/
2025-03-17 16:22:16 | INFO     | conftest             | Cleared 0 existing screenshots from directory
2025-03-17 16:22:16 | INFO     | conftest             | Creating search_url fixture
2025-03-17 16:22:16 | INFO     | conftest             | Launching browser
2025-03-17 16:22:18 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:22:18 | INFO     | conftest             | Creating new page for test: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 16:22:19 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:22:19 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 16:22:28 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 16:22:28 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 16:22:28 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 16:22:28 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 16:22:28 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 16:22:29 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 16:22:29 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 16:22:29 | INFO     | RoundTrip            | Selecting departure airport: LHE
2025-03-17 16:22:29 | INFO     | RoundTrip            | Setting and verifying Departure airport: LHE
2025-03-17 16:22:29 | INFO     | RoundTrip            | Departure airport set to: LHE
2025-03-17 16:22:30 | INFO     | RoundTrip            | Selecting airport from options: LHE
2025-03-17 16:22:31 | INFO     | RoundTrip            | Found 13 airport options
2025-03-17 16:22:31 | INFO     | RoundTrip            | Found matching airport: AirportAllama Iqbal International AirportLHE
2025-03-17 16:22:31 | INFO     | RoundTrip            | Selected Departure airport: AirportAllama Iqbal International AirportLHE (Code: LHE)
2025-03-17 16:22:31 | INFO     | RoundTrip            | Actual Departure airport: Lahore (LHE) (Code: LHE)
2025-03-17 16:22:31 | INFO     | RoundTrip            | Departure airport selected: LHE
2025-03-17 16:22:31 | INFO     | RoundTrip            | Selecting arrival airport: JFK
2025-03-17 16:22:31 | INFO     | RoundTrip            | Setting and verifying Arrival airport: JFK
2025-03-17 16:22:31 | INFO     | RoundTrip            | Setting arrival airport to: JFK
2025-03-17 16:22:31 | INFO     | RoundTrip            | Arrival airport set to: JFK
2025-03-17 16:22:32 | INFO     | RoundTrip            | Selecting airport from options: JFK
2025-03-17 16:22:32 | INFO     | RoundTrip            | Found 5 airport options
2025-03-17 16:22:32 | INFO     | RoundTrip            | Found matching airport: AirportJohn F. Kennedy International AirportJFK
2025-03-17 16:22:32 | INFO     | RoundTrip            | Selected Arrival airport: AirportJohn F. Kennedy International AirportJFK (Code: JFK)
2025-03-17 16:22:32 | INFO     | RoundTrip            | Actual Arrival airport: New York (NY) (JFK) (Code: JFK)
2025-03-17 16:22:32 | INFO     | RoundTrip            | Arrival airport selected: JFK
2025-03-17 16:22:32 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 16:22:33 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 16:22:33 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 16:22:43 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 16:22:44 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 16:22:44 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 16:22:44 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 16:22:44 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 16:22:44 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 16:22:44 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 16:22:44 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 16:22:44 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 16:22:44 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 16:22:44 | INFO     | RoundTrip            | Selecting passengers: Adults=2, Children=1, Infants=0, Cabin=Business
2025-03-17 16:22:44 | INFO     | RoundTrip            | Adjusting adult count to 2
2025-03-17 16:22:44 | INFO     | RoundTrip            | Current adults: 1, Target: 2
2025-03-17 16:22:44 | INFO     | RoundTrip            | Adjusting children count to 1
2025-03-17 16:22:44 | INFO     | RoundTrip            | Current childrens: 0, Target: 1
2025-03-17 16:22:44 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 16:22:44 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 16:22:44 | INFO     | RoundTrip            | Selecting cabin class: Business
2025-03-17 16:22:44 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 16:22:44 | INFO     | RoundTrip            | Clicking search button
2025-03-17 16:22:45 | INFO     | RoundTrip            | Search button clicked
2025-03-17 16:22:45 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 16:22:46 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 16:22:46 | INFO     | conftest             | Test PASSED: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 16:22:46 | INFO     | conftest             | Test completed: test_flight_booking[LHE-JFK-2-1-0-Business]
2025-03-17 16:22:46 | INFO     | conftest             | Closing page
2025-03-17 16:22:47 | INFO     | conftest             | Closing browser
2025-03-17 16:22:47 | INFO     | conftest             | Launching browser
2025-03-17 16:22:48 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:22:48 | INFO     | conftest             | Creating new page for test: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 16:22:49 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:22:49 | INFO     | RoundTrip            | RoundTrip page object initialized
2025-03-17 16:22:58 | INFO     | RoundTrip            | Waiting for Agoda image to appear
2025-03-17 16:22:58 | INFO     | RoundTrip            | Agoda image found - website loaded successfully
2025-03-17 16:22:58 | INFO     | RoundTrip            | Clicking on Flights tab
2025-03-17 16:22:58 | INFO     | RoundTrip            | Flights tab clicked
2025-03-17 16:22:58 | INFO     | RoundTrip            | Checking if Flights tab is selected
2025-03-17 16:22:59 | INFO     | RoundTrip            | Selecting round trip option
2025-03-17 16:22:59 | INFO     | RoundTrip            | Round trip option selected
2025-03-17 16:22:59 | INFO     | RoundTrip            | Selecting departure airport: KHI
2025-03-17 16:22:59 | INFO     | RoundTrip            | Setting and verifying Departure airport: KHI
2025-03-17 16:22:59 | INFO     | RoundTrip            | Departure airport set to: KHI
2025-03-17 16:23:00 | INFO     | RoundTrip            | Selecting airport from options: KHI
2025-03-17 16:23:01 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 16:23:01 | INFO     | RoundTrip            | Found matching airport: AirportJinnah International AirportKHI
2025-03-17 16:23:01 | INFO     | RoundTrip            | Selected Departure airport: AirportJinnah International AirportKHI (Code: KHI)
2025-03-17 16:23:01 | INFO     | RoundTrip            | Actual Departure airport: Karachi (KHI) (Code: KHI)
2025-03-17 16:23:01 | INFO     | RoundTrip            | Departure airport selected: KHI
2025-03-17 16:23:01 | INFO     | RoundTrip            | Selecting arrival airport: IST
2025-03-17 16:23:01 | INFO     | RoundTrip            | Setting and verifying Arrival airport: IST
2025-03-17 16:23:01 | INFO     | RoundTrip            | Setting arrival airport to: IST
2025-03-17 16:23:01 | INFO     | RoundTrip            | Arrival airport set to: IST
2025-03-17 16:23:02 | INFO     | RoundTrip            | Selecting airport from options: IST
2025-03-17 16:23:02 | INFO     | RoundTrip            | Found 12 airport options
2025-03-17 16:23:02 | INFO     | RoundTrip            | Found matching airport: AirportIstanbul AirportIST
2025-03-17 16:23:02 | INFO     | RoundTrip            | Selected Arrival airport: AirportIstanbul AirportIST (Code: IST)
2025-03-17 16:23:02 | INFO     | RoundTrip            | Actual Arrival airport: İstanbul (IST) (Code: IST)
2025-03-17 16:23:02 | INFO     | RoundTrip            | Arrival airport selected: IST
2025-03-17 16:23:02 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 16:23:02 | INFO     | RoundTrip            | Departure date set to: 2025-04-26
2025-03-17 16:23:02 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 16:23:12 | WARNING  | BasePage             | Element '//span[@data-selenium-date='2025-05-16']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//span[@data-selenium-date='2025-05-16']") to be visible

2025-03-17 16:23:13 | INFO     | RoundTrip            | Return date set to: 2025-05-16
2025-03-17 16:23:13 | INFO     | RoundTrip            | Checking if departure date is selected
2025-03-17 16:23:13 | INFO     | RoundTrip            | Generated departure date: 2025-04-26
2025-03-17 16:23:13 | INFO     | RoundTrip            | Expected departure date: 2025-04-26, Actual: 2025-04-26
2025-03-17 16:23:13 | INFO     | RoundTrip            | Departure date is correctly selected
2025-03-17 16:23:13 | INFO     | RoundTrip            | Checking if return date is selected
2025-03-17 16:23:13 | INFO     | RoundTrip            | Generated return date: 2025-05-16
2025-03-17 16:23:13 | INFO     | RoundTrip            | Expected return date: 2025-05-16, Actual: 2025-05-16
2025-03-17 16:23:13 | INFO     | RoundTrip            | Return date is correctly selected
2025-03-17 16:23:13 | INFO     | RoundTrip            | Selecting passengers: Adults=1, Children=0, Infants=0, Cabin=Economy
2025-03-17 16:23:13 | INFO     | RoundTrip            | Adjusting adult count to 1
2025-03-17 16:23:14 | INFO     | RoundTrip            | Current adults: 1, Target: 1
2025-03-17 16:23:14 | INFO     | RoundTrip            | Adjusting children count to 0
2025-03-17 16:23:14 | INFO     | RoundTrip            | Current childrens: 0, Target: 0
2025-03-17 16:23:14 | INFO     | RoundTrip            | Adjusting infant count to 0
2025-03-17 16:23:14 | INFO     | RoundTrip            | Current infants: 0, Target: 0
2025-03-17 16:23:14 | INFO     | RoundTrip            | Selecting cabin class: Economy
2025-03-17 16:23:14 | INFO     | RoundTrip            | Getting passengers and cabin count
2025-03-17 16:23:14 | INFO     | RoundTrip            | Clicking search button
2025-03-17 16:23:14 | INFO     | RoundTrip            | Search button clicked
2025-03-17 16:23:14 | INFO     | RoundTrip            | Checking if search was successful
2025-03-17 16:23:16 | INFO     | RoundTrip            | Search successful - results found
2025-03-17 16:23:16 | INFO     | conftest             | Test PASSED: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 16:23:16 | INFO     | conftest             | Test completed: test_flight_booking[KHI-IST-1-0-0-Economy]
2025-03-17 16:23:16 | INFO     | conftest             | Closing page
2025-03-17 16:23:16 | INFO     | conftest             | Closing browser
2025-03-17 16:23:16 | INFO     | conftest             | Launching browser
2025-03-17 16:23:17 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:23:17 | INFO     | conftest             | Creating new page for test: test_verify_search_results
2025-03-17 16:23:18 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:23:18 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 16:23:21 | INFO     | FlightOptions        | Validating search parameters
2025-03-17 16:23:21 | INFO     | FlightOptions        | Validating URL: https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8
2025-03-17 16:23:21 | INFO     | FlightOptions        | Extracted from URL:
2025-03-17 16:23:21 | INFO     | FlightOptions        | departureFrom: KHI
2025-03-17 16:23:21 | INFO     | FlightOptions        | arrivalTo: IST
2025-03-17 16:23:21 | INFO     | FlightOptions        | departDate: 2025-04-26
2025-03-17 16:23:21 | INFO     | FlightOptions        | returnDate: 2025-05-16
2025-03-17 16:23:21 | INFO     | FlightOptions        | adults: 1
2025-03-17 16:23:21 | INFO     | FlightOptions        | children: 0
2025-03-17 16:23:21 | INFO     | FlightOptions        | infants: 0
2025-03-17 16:23:21 | INFO     | FlightOptions        | cabinType: Economy
2025-03-17 16:23:21 | INFO     | FlightOptions        | Validating from header
2025-03-17 16:23:23 | INFO     | FlightOptions        | Departure value: Karachi (KHI)
2025-03-17 16:23:23 | INFO     | FlightOptions        | Arrival value: İstanbul (IST)
2025-03-17 16:23:24 | INFO     | FlightOptions        | Clicked departure calendar button
2025-03-17 16:23:24 | INFO     | FlightOptions        | Departure date: 2025-04-26
2025-03-17 16:23:25 | INFO     | FlightOptions        | Clicked return calendar button
2025-03-17 16:23:26 | INFO     | FlightOptions        | Return date: 2025-05-16
2025-03-17 16:23:26 | INFO     | FlightOptions        | Clicked passenger dropdown
2025-03-17 16:23:26 | INFO     | FlightOptions        | Adults count: 1
2025-03-17 16:23:26 | INFO     | FlightOptions        | Children count: 0
2025-03-17 16:23:26 | INFO     | FlightOptions        | Infants count: 0
2025-03-17 16:23:26 | INFO     | FlightOptions        | Cabin type: Economy
2025-03-17 16:23:26 | INFO     | FlightOptions        | Extracted from Header: ['Karachi (KHI)', 'İstanbul (IST)', '2025-04-26', '2025-05-16', '1', '0', '0', 'Economy']
2025-03-17 16:23:26 | INFO     | FlightOptions        | Search parameters validated successfully
2025-03-17 16:23:26 | INFO     | test_flight_options  | search validated
2025-03-17 16:23:26 | INFO     | conftest             | Test PASSED: test_verify_search_results
2025-03-17 16:23:26 | INFO     | conftest             | Test completed: test_verify_search_results
2025-03-17 16:23:26 | INFO     | conftest             | Closing page
2025-03-17 16:23:26 | INFO     | conftest             | Closing browser
2025-03-17 16:23:27 | INFO     | conftest             | Launching browser
2025-03-17 16:23:28 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:23:28 | INFO     | conftest             | Creating new page for test: test_flight_data
2025-03-17 16:23:28 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:23:28 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 16:23:31 | INFO     | FlightOptions        | Collecting flight data
2025-03-17 16:23:31 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 16:23:41 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 16:23:41 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 16:23:43 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:23:46 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:23:48 | INFO     | test_flight_options  | 
Flight Data (Array):
2025-03-17 16:23:48 | INFO     | test_flight_options  | +------------------+------------+-------------+------------+
| Carrier          | Duration   | Price       |   Layovers |
+==================+============+=============+============+
| Pegasus Airlines | 5h 50m     | 120,862 PKR |          0 |
+------------------+------------+-------------+------------+
| Turkish Airlines | 6h 0m      | 203,570 PKR |          0 |
+------------------+------------+-------------+------------+
| Etihad Airways   | 9h 55m     | 119,224 PKR |          1 |
+------------------+------------+-------------+------------+
| Jazeera Airways  | 11h 55m    | 128,472 PKR |          1 |
+------------------+------------+-------------+------------+
| Air Arabia       | 25h 50m    | 115,493 PKR |          1 |
+------------------+------------+-------------+------------+
| Air Arabia       | 12h 20m    | 115,493 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 10h 5m     | 137,005 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 10h 20m    | 137,005 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 16h 45m    | 137,005 PKR |          1 |
+------------------+------------+-------------+------------+
| Flydubai         | 10h 30m    | 135,335 PKR |          1 |
+------------------+------------+-------------+------------+
| Flydubai         | 14h 30m    | 135,335 PKR |          1 |
+------------------+------------+-------------+------------+
| Flydubai         | 15h 40m    | 135,335 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 22h 5m     | 137,749 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 27h 40m    | 137,749 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 28h 30m    | 137,749 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 10h 20m    | 135,673 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 10h 30m    | 135,673 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 16h 55m    | 135,673 PKR |          1 |
+------------------+------------+-------------+------------+
| Qatar Airways    | 27h 55m    | 140,803 PKR |          1 |
+------------------+------------+-------------+------------+
| Saudia           | 27h 20m    | 142,892 PKR |          1 |
+------------------+------------+-------------+------------+
2025-03-17 16:23:48 | INFO     | conftest             | Test PASSED: test_flight_data
2025-03-17 16:23:48 | INFO     | conftest             | Test completed: test_flight_data
2025-03-17 16:23:48 | INFO     | conftest             | Closing page
2025-03-17 16:23:48 | INFO     | conftest             | Closing browser
2025-03-17 16:23:48 | INFO     | conftest             | Launching browser
2025-03-17 16:23:49 | INFO     | conftest             | Browser launched successfully: <Browser type=<BrowserType name=chromium executable_path=/Users/zaki.sabir/Library/Caches/ms-playwright/chromium-1155/chrome-mac/Chromium.app/Contents/MacOS/Chromium> version=133.0.6943.16>
2025-03-17 16:23:49 | INFO     | conftest             | Creating new page for test: test_flight_stops
2025-03-17 16:23:50 | INFO     | conftest             | Page created successfully: <Page url='about:blank'>
2025-03-17 16:23:50 | INFO     | FlightOptions        | FlightInfo page object initialized
2025-03-17 16:23:53 | INFO     | FlightOptions        | Checking direct flights
2025-03-17 16:23:53 | INFO     | FlightOptions        | Checking for 'no flights' message
2025-03-17 16:24:03 | WARNING  | BasePage             | Element '//div[@data-testid='no-result-page']' not found. Error: Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("//div[@data-testid='no-result-page']") to be visible

2025-03-17 16:24:03 | INFO     | FlightOptions        | Flights are available (no 'no flights' message found)
2025-03-17 16:24:03 | INFO     | FlightOptions        | Clicking checkbox: get_direct_stop_checkbox
2025-03-17 16:24:04 | INFO     | FlightOptions        | Clicked checkbox: get_direct_stop_checkbox
2025-03-17 16:24:04 | INFO     | FlightOptions        | Processing flight option: direct
2025-03-17 16:24:04 | INFO     | FlightOptions        | Number of stops for direct are: 
2025-03-17 16:24:06 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").first.locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:24:06 | INFO     | FlightOptions        | 0

2025-03-17 16:24:08 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(1).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:24:08 | INFO     | FlightOptions        | 0

2025-03-17 16:24:13 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=2">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(2) to be visible

2025-03-17 16:24:15 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(2).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:24:15 | INFO     | FlightOptions        | 0

2025-03-17 16:24:20 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=3">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(3) to be visible

2025-03-17 16:24:22 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(3).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:24:22 | INFO     | FlightOptions        | 0

2025-03-17 16:24:27 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=4">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(4) to be visible

2025-03-17 16:24:29 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(4).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:24:29 | INFO     | FlightOptions        | 0

2025-03-17 16:24:34 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=5">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(5) to be visible

2025-03-17 16:24:36 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(5).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:24:36 | INFO     | FlightOptions        | 0

2025-03-17 16:24:41 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=6">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(6) to be visible

2025-03-17 16:24:43 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(6).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:24:43 | INFO     | FlightOptions        | 0

2025-03-17 16:24:48 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=7">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(7) to be visible

2025-03-17 16:24:50 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(7).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:24:50 | INFO     | FlightOptions        | 0

2025-03-17 16:24:55 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=8">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(8) to be visible

2025-03-17 16:24:57 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(8).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:24:57 | INFO     | FlightOptions        | 0

2025-03-17 16:25:02 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=9">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(9) to be visible

2025-03-17 16:25:04 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(9).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:25:04 | INFO     | FlightOptions        | 0

2025-03-17 16:25:09 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=10">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(10) to be visible

2025-03-17 16:25:11 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(10).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:25:11 | INFO     | FlightOptions        | 0

2025-03-17 16:25:16 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=11">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(11) to be visible

2025-03-17 16:25:18 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(11).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:25:18 | INFO     | FlightOptions        | 0

2025-03-17 16:25:23 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=12">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(12) to be visible

2025-03-17 16:25:25 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(12).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:25:25 | INFO     | FlightOptions        | 0

2025-03-17 16:25:30 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=13">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(13) to be visible

2025-03-17 16:25:32 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(13).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:25:32 | INFO     | FlightOptions        | 0

2025-03-17 16:25:37 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=14">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(14) to be visible

2025-03-17 16:25:39 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(14).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:25:39 | INFO     | FlightOptions        | 0

2025-03-17 16:25:44 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=15">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(15) to be visible

2025-03-17 16:25:46 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(15).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:25:46 | INFO     | FlightOptions        | 0

2025-03-17 16:25:51 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=16">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(16) to be visible

2025-03-17 16:25:53 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(16).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:25:53 | INFO     | FlightOptions        | 0

2025-03-17 16:25:58 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=17">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(17) to be visible

2025-03-17 16:26:00 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(17).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:26:00 | INFO     | FlightOptions        | 0

2025-03-17 16:26:05 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=18">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(18) to be visible

2025-03-17 16:26:07 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(18).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:26:07 | INFO     | FlightOptions        | 0

2025-03-17 16:26:12 | WARNING  | BasePage             | Locator '<Locator frame=<Frame name= url='https://www.agoda.com/flights/results?departureFrom=KHI&departureFromType=1&arrivalTo=IST&arrivalToType=1&departDate=2025-04-26&returnDate=2025-05-16&searchType=2&cabinType=Economy&adults=1&sort=8'> selector="//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))] >> nth=19">' not found. Error: Locator.wait_for: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(19) to be visible

2025-03-17 16:26:14 | INFO     | FlightOptions        | Error retrieving layover count: Locator.inner_text: Timeout 2000ms exceeded.
Call log:
  - waiting for locator("//div[contains(@data-testid, 'web-refresh-flights-card') and not(contains(@style, 'display: none'))]").nth(19).locator("//span[@class='sc-jsMahE sc-kFuwaP bEtAca fdKTiB']").first

2025-03-17 16:26:14 | INFO     | FlightOptions        | 0

2025-03-17 16:26:14 | INFO     | FlightOptions        | Direct flights check result: True
2025-03-17 16:26:14 | INFO     | conftest             | Test PASSED: test_flight_stops
2025-03-17 16:26:14 | INFO     | conftest             | Test completed: test_flight_stops
2025-03-17 16:26:14 | INFO     | conftest             | Closing page
2025-03-17 16:26:14 | INFO     | conftest             | Closing browser
2025-03-17 16:27:03 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:27:03 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:27:03 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:27:03 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:27:06 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:27:06 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:27:06 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:27:06 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:27:07 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:27:07 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:27:07 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:27:07 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:39:12 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:39:12 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:39:12 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:39:13 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:47:04 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:47:04 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:47:04 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:47:04 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:47:10 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:47:10 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:47:10 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:47:10 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:47:12 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:47:12 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:47:12 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:47:12 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:47:16 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:47:16 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:47:16 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:47:16 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:47:19 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:47:19 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:47:19 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:47:21 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:47:21 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:47:22 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:47:24 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:47:24 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:47:24 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:47:30 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:47:30 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:47:31 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:47:31 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
2025-03-17 16:56:04 | INFO     | conftest             | Logging initialized. Log file: /Users/zaki.sabir/Downloads/agoda/Reports/Logs/20250317.log
2025-03-17 16:56:04 | INFO     | conftest             | Added command-line option: --testParameters
2025-03-17 16:56:04 | INFO     | conftest             | Test session started: /Users/zaki.sabir/Downloads/agoda
2025-03-17 16:56:04 | INFO     | conftest             | Parametrized test_flight_booking with 0 parameter sets
